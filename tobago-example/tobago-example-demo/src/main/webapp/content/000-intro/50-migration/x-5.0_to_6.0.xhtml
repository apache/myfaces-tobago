<?xml version="1.0" encoding="UTF-8"?>

<!--
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
-->

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:tc="http://myfaces.apache.org/tobago/component"
                xmlns:ui="jakarta.faces.facelets">

  <tc:section label="Migration from Tobago 5.0 to 6.0">
    <p>The code of Tobago 5 and Tobago 6 is almost identical. The difference is, that Tobago 5 uses Jakarta EE 8 and
      Tobago 6 uses Jakarta EE 10. There is no Jakarta EE 9 version.</p>

    <tc:section label="Jakarta EE 10 dependencies">
      <p>Upgrade the dependencies to Jakarta EE 10.</p>
      <p>In any case, JSF must be update to Faces 4.0. Depending on the implementation the new dependency could be:</p>
      <ul>
        <li>org.apache.myfaces.core:myfaces-api:2.x -> org.apache.myfaces.core:myfaces-api:4.x</li>
        <li>org.glassfish:jakarta.faces:2.x -> org.glassfish:jakarta.faces:4.x</li>
        <li>javax.faces:javax.faces-api:2.x -> jakarta.faces:jakarta.faces-api:4.x</li>
      </ul>
      <p>There are probably other dependencies that need to be updated. For example, Servlet 6.0 and CDI 4.0.</p>
    </tc:section>
    <tc:section label="Jakarta namespace">
      <p>Since Jakarta EE 9 the namespace has been changed from "javax" to "jakarta".</p>
      <ul>
        <li>Java imports: <code class="language-java">import javax.*</code> must be replaced by
          <code class="language-java">import jakarta.*</code></li>
        <li>XHTML header: <code class="language-markup">&lt;ui:composition xmlns:f="http://xmlns.jcp.org/jsf/core"
          xmlns:ui="http://xmlns.jcp.org/jsf/facelets"></code><br/>
          must be replaced by<br/>
          <code class="language-markup">&lt;ui:composition xmlns:f="jakarta.faces.core"
            xmlns:ui="jakarta.faces.facelets"></code></li>
        <li>web.xml context parameter names:
          <code class="language-markup">javax.faces.*</code> must be replaced by
          <code class="language-markup">jakarta.faces.*</code></li>
      </ul>
    </tc:section>
    <tc:section label="XML header">
      <p>With a new Jakarta EE version, some XML headers need to be updated.</p>
      <p><code class="language-markup">&lt;faces-config
        xmlns="http://xmlns.jcp.org/xml/ns/javaee"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-facesconfig_2_3.xsd"
        version="2.3"></code><br/>
        must be replaced by<br/>
        <code class="language-markup">&lt;faces-config
          xmlns="https://jakarta.ee/xml/ns/jakartaee"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-facesconfig_4_0.xsd"
          version="4.0"></code>
      </p>
      <p>For Servlet 6.0<br/>
        <code class="language-markup">&lt;web-app
          xmlns="http://xmlns.jcp.org/xml/ns/javaee"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
          version="4.0"></code><br/>
        must be replaced by<br/>
        <code class="language-markup">&lt;web-app
          xmlns="https://jakarta.ee/xml/ns/jakartaee"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_6_0.xsd"
          version="6.0"></code>
      </p>
      <p>If using CDI:<br/>
        <code class="language-markup">&lt;beans
          xmlns="http://xmlns.jcp.org/xml/ns/javaee"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/beans_2_0.xsd"
          version="2.0"></code><br/>
        must be replaced by<br/>
        <code class="language-markup">&lt;beans xmlns="https://jakarta.ee/xml/ns/jakartaee"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/beans_4_0.xsd"
          version="4.0"></code>
      </p>
    </tc:section>
  </tc:section>
</ui:composition>
