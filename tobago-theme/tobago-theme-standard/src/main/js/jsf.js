(()=>{"use strict";var e={370:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function u(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,u)}s((r=r.apply(e,t||[])).next())}))},u=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},s=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.DQ=t.DomQueryCollector=t.DomQuery=t.ElementAttribute=void 0;var l,c=n(620),p=n(404),f=n(78),h=n(939),v=h.Lang.trim,d=h.Lang.objToArray,E=h.Lang.isString,y=h.Lang.equalsIgnoreCase;function _(e,t,n){return void 0===n&&(n={attributes:!0,childList:!0,subtree:!0,timeout:500,interval:100}),new Promise((function(r,o){var a=new Error("Mutation observer timeout");if(void 0!==window.MutationObserver){var u=setTimeout((function(){return o(a)}),n.timeout),s=new window.MutationObserver((function(e,n){var o=new S(e.map((function(e){return e.target}))).first(t);o.isPresent()&&(clearTimeout(u),r(o))})),l=i({},n);delete l.timeout,e.eachElem((function(e){s.observe(e,l)}))}else var c=setInterval((function(){var o=null;(o=n.childList?t(e)?e:e.childNodes.first(t):n.subtree?t(e)?e:e.querySelectorAll(" * ").first(t):t(e)?e:S.absent).isPresent()&&p&&(clearTimeout(p),clearInterval(c),c=null,r(o))}),n.interval),p=setTimeout((function(){c&&(clearInterval(c),o(a))}),n.timeout)}))}!function(e){e.SELECT="select",e.BUTTON="button",e.SUBMIT="submit",e.RESET="reset",e.IMAGE="image",e.RADIO="radio",e.CHECKBOX="checkbox"}(l||(l={}));var m=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this,t,n)||this;return o.element=t,o.name=n,o.defaultVal=r,o}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){var e,t=(e=this.element.get(0)).orElse.apply(e,[]).values;return t.length?t[0].getAttribute(this.name):this.defaultVal},set:function(e){for(var t,n=(t=this.element.get(0)).orElse.apply(t,[]).values,r=0;r<n.length;r++)n[r].setAttribute(this.name,e);n[0].setAttribute(this.name,e)},enumerable:!1,configurable:!0}),t.prototype.getClass=function(){return t},t.fromNullable=function(e,n){return void 0===n&&(n="value"),new t(e,n)},t}(c.ValueEmbedder);t.ElementAttribute=m;var T=function(e){return!0},S=function(){function e(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.rootNode=[],this.pos=-1,this._limits=-1,!c.Optional.fromNullable(n).isAbsent()&&n.length)for(var o=0;o<n.length;o++)if(n[o])if(E(n[o])){var i=e.querySelectorAll(n[o]);i.isAbsent()||n.push.apply(n,i.values)}else n[o]instanceof e?(t=this.rootNode).push.apply(t,n[o].values):this.rootNode.push(n[o])}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getAsElem(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"values",{get:function(){return this.allElems()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return new m(this.get(0),"id")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.rootNode.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.getAsElem(0).getIf("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nodeName",{get:function(){return this.getAsElem(0).getIf("nodeName")},enumerable:!1,configurable:!0}),e.prototype.isTag=function(e){return!this.isAbsent()&&(this.nodeName.orElse("__none___").value.toLowerCase()==e.toLowerCase()||this.tagName.orElse("__none___").value.toLowerCase()==e.toLowerCase())},Object.defineProperty(e.prototype,"type",{get:function(){return this.getAsElem(0).getIf("type")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return new c.ValueEmbedder(this.getAsElem(0).value,"name")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputValue",{get:function(){return this.getAsElem(0).getIf("value").isPresent()?new c.ValueEmbedder(this.getAsElem(0).value):c.ValueEmbedder.absent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return p.Stream.of.apply(p.Stream,this.values).allMatch((function(e){return!!e.checked}))},set:function(e){this.eachElem((function(t){return t.checked=e}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"elements",{get:function(){return this.querySelectorAll("input, checkbox, select, textarea, fieldset")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deepElements",{get:function(){return this.querySelectorAllDeep("input, select, textarea, checkbox, fieldset")},enumerable:!1,configurable:!0}),e.prototype.querySelectorAllDeep=function(t){var n=[],r=this.querySelectorAll(t);r.length&&n.push(r);var o=this.querySelectorAll("*").shadowRoot;if(o.length){var i=o.querySelectorAllDeep(t);i.length&&n.push(i)}return new(e.bind.apply(e,s([void 0],n,!1)))},Object.defineProperty(e.prototype,"disabled",{get:function(){return this.attr("disabled").isPresent()},set:function(e){e?this.attr("disabled").value="disabled":this.removeAttribute("disabled")},enumerable:!1,configurable:!0}),e.prototype.removeAttribute=function(e){this.eachElem((function(t){return t.removeAttribute(e)}))},Object.defineProperty(e.prototype,"childNodes",{get:function(){var t=[];return this.eachElem((function(e){t=t.concat(d(e.childNodes))})),new(e.bind.apply(e,s([void 0],t,!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stream",{get:function(){return new(p.Stream.bind.apply(p.Stream,s([void 0],this.asArray,!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lazyStream",{get:function(){return p.LazyStream.of.apply(p.LazyStream,this.asArray)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asArray",{get:function(){return[].concat(p.LazyStream.of.apply(p.LazyStream,this.rootNode).filter((function(e){return null!=e})).map((function(t){return e.byId(t)})).collect(new f.ArrayCollector))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"asNodeArray",{get:function(){return[].concat(p.Stream.of(this.rootNode).filter((function(e){return null!=e})).collect(new f.ArrayCollector))},enumerable:!1,configurable:!0}),e.querySelectorAllDeep=function(t){return new e(document).querySelectorAllDeep(t)},e.querySelectorAll=function(t){return-1!=t.indexOf("/shadow/")?new e(document)._querySelectorAllDeep(t):new e(document)._querySelectorAll(t)},e.byId=function(t,n){return void 0===n&&(n=!1),E(t)?n?new e(document).byIdDeep(t):new e(document).byId(t):new e(t)},e.byTagName=function(t){return E(t)?new e(document).byTagName(t):new e(t)},e.globalEval=function(t,n){return new e(document).globalEval(t,n)},e.fromMarkup=function(t){var n=document.implementation.createHTMLDocument(""),r=(t=v(t)).toLowerCase();if(-1!=r.indexOf("<!doctype")||-1!=r.indexOf("<html")||-1!=r.indexOf("<head")||-1!=r.indexOf("<body"))return n.documentElement.innerHTML=t,new e(n.documentElement);var o=function(e,t){var n=["<",t,">"].join(""),r=["<",t," "].join("");return 0==e.indexOf(n)||0==e.indexOf(r)},i=new e(document.createElement("div"));return o(r,"thead")||o(r,"tbody")?(i.html("<table>".concat(t,"</table>")),i.querySelectorAll("table").get(0).childNodes.detach()):o(r,"tfoot")?(i.html("<table><thead></thead><tbody><tbody".concat(t,"</table>")),i.querySelectorAll("table").get(2).childNodes.detach()):o(r,"tr")?(i.html("<table><tbody>".concat(t,"</tbody></table>")),i.querySelectorAll("tbody").get(0).childNodes.detach()):o(r,"td")?(i.html("<table><tbody><tr>".concat(t,"</tr></tbody></table>")),i.querySelectorAll("tr").get(0).childNodes.detach()):(i.html(t),i.childNodes.detach())},e.prototype.get=function(t){return t<this.rootNode.length?new e(this.rootNode[t]):e.absent},e.prototype.getAsElem=function(e,t){return void 0===t&&(t=c.Optional.absent),e<this.rootNode.length?c.Optional.fromNullable(this.rootNode[e]):t},e.prototype.filesFromElem=function(e){var t;return e<this.rootNode.length&&(null===(t=this.rootNode[e])||void 0===t?void 0:t.files)?this.rootNode[e].files:[]},e.prototype.allElems=function(){return this.rootNode},e.prototype.isAbsent=function(){return 0==this.length},e.prototype.isPresent=function(e){var t=this.isAbsent();return!t&&e&&e.call(this,this),!t},e.prototype.ifPresentLazy=function(e){return void 0===e&&(e=function(){}),this.isPresent.call(this,e),this},e.prototype.delete=function(){this.eachElem((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},e.prototype.querySelectorAll=function(e){return-1!=e.indexOf("/shadow/")?this._querySelectorAllDeep(e):this._querySelectorAll(e)},e.prototype._querySelectorAll=function(t){var n,r;if(!(null===(n=null==this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var o=[],i=0;i<this.rootNode.length;i++)if(null===(r=this.rootNode[i])||void 0===r?void 0:r.querySelectorAll){var a=this.rootNode[i].querySelectorAll(t);o=o.concat(d(a))}return new(e.bind.apply(e,s([void 0],o,!1)))},e.prototype._querySelectorAllDeep=function(t){var n;if(!(null===(n=null==this?void 0:this.rootNode)||void 0===n?void 0:n.length))return this;for(var r=new(e.bind.apply(e,s([void 0],this.rootNode,!1))),o=t.split(/\/shadow\//),i=0;i<o.length;i++)if(""!=o[i]){var a=o[i];r=r.querySelectorAll(a),i<o.length-1&&(r=r.shadowRoot)}return r},e.prototype.byId=function(t,n){var r=[];return n&&(r=r.concat(p.LazyStream.of.apply(p.LazyStream,(null==this?void 0:this.rootNode)||[]).filter((function(e){return t==e.id})).map((function(t){return new e(t)})).collect(new f.ArrayCollector))),r=r.concat(this.querySelectorAll('[id="'.concat(t,'"]'))),new(e.bind.apply(e,s([void 0],r,!1)))},e.prototype.byIdDeep=function(t,n){var r=[];n&&(r=r.concat(p.LazyStream.of.apply(p.LazyStream,(null==this?void 0:this.rootNode)||[]).filter((function(e){return t==e.id})).map((function(t){return new e(t)})).collect(new f.ArrayCollector)));var o=this.querySelectorAllDeep('[id="'.concat(t,'"]'));return o.length&&r.push(o),new(e.bind.apply(e,s([void 0],r,!1)))},e.prototype.byTagName=function(t,n,r){var o,i=[];return n&&(i=p.LazyStream.of.apply(p.LazyStream,null!==(o=null==this?void 0:this.rootNode)&&void 0!==o?o:[]).filter((function(e){return(null==e?void 0:e.tagName)==t})).reduce((function(e,t){return e.concat([t])}),i).orElse(i).value),r?i.push(this.querySelectorAllDeep(t)):i.push(this.querySelectorAll(t)),new(e.bind.apply(e,s([void 0],i,!1)))},e.prototype.attr=function(e,t){return void 0===t&&(t=null),new m(this,e,t)},e.prototype.hasClass=function(e){var t=!1;return this.eachElem((function(n){if(t=n.classList.contains(e))return!1})),t},e.prototype.addClass=function(e){return this.eachElem((function(t){return t.classList.add(e)})),this},e.prototype.removeClass=function(e){return this.eachElem((function(t){return t.classList.remove(e)})),this},e.prototype.isMultipartCandidate=function(e){var t=this;return void 0===e&&(e=!1),this.stream.filter((function(n){return function(n){var r;return 0!=n.length&&(1==n.length?"input"==n.tagName.get("booga").value.toLowerCase()&&"file"==((null===(r=n.attr("type"))||void 0===r?void 0:r.value)||"").toLowerCase()||(e?t.querySelectorAllDeep("input[type='file']").firstElem().isPresent():t.querySelectorAll("input[type='file']").firstElem().isPresent()):n.isMultipartCandidate(e))}(n)})).first().isPresent()},e.prototype.html=function(e){return c.Optional.fromNullable(e).isAbsent()?this.isPresent()?c.Optional.fromNullable(this.innerHtml):c.Optional.absent:(this.innerHtml=e,this)},e.prototype.dispatchEvent=function(e){return this.eachElem((function(t){return t.dispatchEvent(e)})),this},Object.defineProperty(e.prototype,"innerHtml",{get:function(){var e=[];return this.eachElem((function(t){return e.push(t.innerHTML)})),e.join("")},set:function(e){this.eachElem((function(t){return t.innerHTML=e}))},enumerable:!1,configurable:!0}),e.prototype._mozMatchesSelector=function(e,t){var n=e,r=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector||function(t){for(var n=(document||window.ownerDocument).querySelectorAll(t),r=n.length;--r>=0&&n.item(r)!==e;);return r>-1};return r.call(e,t)},e.prototype.filterSelector=function(t){var n=this,r=[];return this.eachElem((function(e){n._mozMatchesSelector(e,t)&&r.push(e)})),new(e.bind.apply(e,s([void 0],r,!1)))},e.prototype.matchesSelector=function(e){var t=this;return this.lazyStream.map((function(n){return t._mozMatchesSelector(n.getAsElem(0).value,e)})).filter((function(e){return e})).first().isPresent()},e.prototype.getIf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this.childNodes,r=0;r<e.length;r++)if((n=n.filterSelector(e[r])).isAbsent())return n;return n},e.prototype.eachElem=function(e){for(var t=0,n=this.rootNode.length;t<n&&!1!==e(this.rootNode[t],t);t++);return this},e.prototype.firstElem=function(e){return void 0===e&&(e=function(e){return e}),this.rootNode.length>1&&e(this.rootNode[0],0),this},e.prototype.each=function(t){return p.Stream.of.apply(p.Stream,this.rootNode).each((function(n,r){if(null!=n)return t(e.byId(n),r)})),this},e.prototype.first=function(e){return void 0===e&&(e=function(e){return e}),this.rootNode.length>=1?(e(this.get(0),0),this.get(0)):this},e.prototype.filter=function(t){var n=[];return this.each((function(e){t(e)&&n.push(e)})),new(e.bind.apply(e,s([void 0],n,!1)))},e.prototype.globalEval=function(e,t){var n=document.getElementsByTagName("head")[0]||document.documentElement,r=document.createElement("script");t&&r.setAttribute("nonce",t),r.type="text/javascript",r.innerHTML=e;var o=n.appendChild(r);return n.removeChild(o),this},e.prototype.detach=function(){return this.eachElem((function(e){e.parentNode.removeChild(e)})),this},e.prototype.appendTo=function(e){this.eachElem((function(t){e.getAsElem(0).orElseLazy((function(){return{appendChild:function(e){}}})).value.appendChild(t)}))},e.prototype.loadScriptEval=function(e,t,n){var r=this;void 0===t&&(t=0),void 0===n&&(n="utf-8");var o=new XMLHttpRequest;return o.open("GET",e,!1),n&&o.setRequestHeader("Content-Type","application/x-javascript; charset:"+n),o.send(null),o.onload=function(n){t?setTimeout((function(){r.globalEval(o.responseText+"\r\n//@ sourceURL="+e)}),t):r.globalEval(o.responseText.replace(/\n/g,"\r\n")+"\r\n//@ sourceURL="+e)},o.onerror=function(e){throw Error(e)},this},e.prototype.insertAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.each((function(e){for(var n=e.getAsElem(0).value,r=n.parentNode,o=function(e){var o=n.nextSibling;t[e].eachElem((function(e){o?(r.insertBefore(e,o),n=o):r.appendChild(e)}))},i=0;i<t.length;i++)o(i)}));var r=[];return r.push(this),r=r.concat(t),new(e.bind.apply(e,s([void 0],r,!1)))},e.prototype.insertBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.each((function(e){for(var n=e.getAsElem(0).value,r=n.parentNode,o=0;o<t.length;o++)t[o].eachElem((function(e){r.insertBefore(e,n)}))}));var r=[];return r.push(this),r=r.concat(t),new(e.bind.apply(e,s([void 0],r,!1)))},e.prototype.orElse=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.isPresent()?this:new(e.bind.apply(e,s([void 0],t,!1)))},e.prototype.orElseLazy=function(t){return this.isPresent()?this:new e(t())},e.prototype.parents=function(t){var n=new Set,r=[],o=t.toLowerCase(),i=function(e){(e.tagName||"").toLowerCase()!=o||n.has(e)||(n.add(e),r.push(e))};return this.eachElem((function(e){for(var n;e.parentNode||e.host;)if(e=null!==(n=null==e?void 0:e.parentNode)&&void 0!==n?n:null==e?void 0:e.host,i(e),"form"==t&&r.length)return!1})),new(e.bind.apply(e,s([void 0],r,!1)))},e.prototype.copyAttrs=function(e){var t=this;return e.eachElem((function(e){for(var n=0,r=d(e.attributes);n<r.length;n++){var o=r[n],i=o.value,a=o.name;switch(a){case"id":t.id.value=i;break;case"disabled":t.resolveAttributeHolder("disabled").disabled=i;break;case"checked":t.resolveAttributeHolder("checked").checked=i;break;default:t.attr(a).value=i}}})),this},e.prototype.resolveAttributeHolder=function(e){void 0===e&&(e="value");var t=[];return t[e]=null,e in this.getAsElem(0).value?this.getAsElem(0).value:t},e.prototype.outerHTML=function(t,n,r,o){var i;if(void 0===o&&(o=!1),!this.isAbsent()){var a=null===(i=null===document||void 0===document?void 0:document.activeElement)||void 0===i?void 0:i.id,u=a?e.getCaretPosition(document.activeElement):null,l=e.fromMarkup(t),c=[],p=this.getAsElem(0).value,f=l.get(0),h=p.parentNode,v=f.getAsElem(0).value;if(h.replaceChild(v,p),c.push(new e(v)),this.isAbsent())return this;var d=[];l.length>1&&(d=d.concat.apply(d,l.values.slice(1)),c.push(e.byId(v).insertAfter(new(e.bind.apply(e,s([void 0],d,!1)))))),n&&this.runScripts(),r&&this.runCss();var E=e.byId(a);return a&&E.isPresent()&&null!=u&&void 0!==u&&E.eachElem((function(t){return e.setCaretPosition(t,u)})),l}},e.prototype.runScripts=function(t){var n=this;void 0===t&&(t=T);var r=[],o=y,i=function(e){var i=e.tagName,a=e.type||"";if(i&&o(i,"script")&&(""===a||o(a,"text/javascript")||o(a,"javascript")||o(a,"text/ecmascript")||o(a,"ecmascript"))){var u=e.getAttribute("src");if(void 0!==u&&null!=u&&u.length>0)t(u)&&(r.length&&(n.globalEval(r.join("\n")),r=[]),n.loadScriptEval(u,0,"UTF-8"));else{for(var s=v(e.text||e.innerText||e.innerHTML),l=!0;l;)l=!1,"\x3c!--"==s.substring(0,4)&&(s=s.substring(4),l=!0),"//\x3c!--"==s.substring(0,4)&&(s=s.substring(6),l=!0),"//<![CDATA["==s.substring(0,11)&&(s=s.substring(11),l=!0);r.push(s)}}};try{new e(this.filterSelector("script"),this.querySelectorAll("script")).stream.flatMap((function(e){return p.Stream.of(e.values)})).sort((function(e,t){return e.compareDocumentPosition(t)-3})).each((function(e){return i(e)})),r.length&&this.globalEval(r.join("\n"))}catch(e){window.console&&window.console.error&&console.error(e.message||e.description)}finally{i=null}return this},e.prototype.runCss=function(){var t=function(e,t){var n,r,o,i,a=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(a);var u=null!==(n=a.sheet)&&void 0!==n?n:a.styleSheet;a.setAttribute("rel",null!==(r=e.getAttribute("rel"))&&void 0!==r?r:"stylesheet"),a.setAttribute("type",null!==(o=e.getAttribute("type"))&&void 0!==o?o:"text/css"),null!==(i=null==u?void 0:u.cssText)&&void 0!==i&&i?u.cssText=t:a.appendChild(document.createTextNode(t))};return new e(this.filterSelector("link, style"),this.querySelectorAll("link, style")).stream.flatMap((function(e){return p.Stream.of(e.values)})).sort((function(e,t){return e.compareDocumentPosition(t)-3})).each((function(e){return function(e){var n=e.tagName;if(n&&y(n,"link")&&y(e.getAttribute("type"),"text/css"))t(e,"@import url('"+e.getAttribute("href")+"');");else if(n&&y(n,"style")&&y(e.getAttribute("type"),"text/css")){var r=[],o=Array.prototype.slice.call(e.childNodes);o?o.forEach((function(e){return r.push(e.innerHTML||e.data)})):e.innerHTML&&r.push(e.innerHTML),t(e,r.join(""))}}(e)})),this},e.prototype.click=function(){return this.fireEvent("click"),this},e.prototype.addEventListener=function(e,t,n){return this.eachElem((function(r){return r.addEventListener(e,t,n)})),this},e.prototype.removeEventListener=function(e,t,n){return this.eachElem((function(r){return r.removeEventListener(e,t,n)})),this},e.prototype.fireEvent=function(e){this.eachElem((function(t){var n;if(t.ownerDocument)n=t.ownerDocument;else{if(9!=t.nodeType)throw new Error("Invalid node passed to fireEvent: "+t.id);n=t}if(t.dispatchEvent){var r="";switch(e){case"click":case"mousedown":case"mouseup":r="MouseEvents";break;case"focus":case"change":case"blur":case"select":r="HTMLEvents";break;default:throw"fireEvent: Couldn't find an event class for event '"+e+"'."}var o=n.createEvent(r);o.initEvent(e,!0,!0),o.synthetic=!0,t.dispatchEvent(o)}else if(t.fireEvent){var i=n.createEventObject();i.synthetic=!0,t.fireEvent("on"+e,i)}}))},e.prototype.textContent=function(e){return void 0===e&&(e=""),this.stream.map((function(e){return e.getAsElem(0).orElseLazy((function(){return{textContent:""}})).value.textContent||""})).reduce((function(t,n){return t+e+n}),"").value},e.prototype.innerText=function(e){return void 0===e&&(e=""),this.stream.map((function(e){return e.getAsElem(0).orElseLazy((function(){return{innerText:""}})).value.innerText||""})).reduce((function(t,n){return[t,n].join(e)}),"").value},e.prototype.encodeFormElement=function(e){if(void 0===e&&(e=new c.Config({})),!this.name.isAbsent()){var t=e.shallowCopy;return this.each((function(e){var n,r;if(!e.name.isAbsent()){var o=e.name.value,i=e.tagName.orElse("__none__").value.toLowerCase(),a=e.type.orElse("__none__").value.toLowerCase();if(a=a.toLowerCase(),("input"==i||"textarea"==i||"select"==i)&&null!=o&&""!=o&&!e.disabled){if("select"==i){var u=e.getAsElem(0).value;if(u.selectedIndex>=0)for(var s=u.options.length,c=0;c<s;c++)if(u.options[c].selected){var p=u.options[c];t.append(o).value=null!=p.getAttribute("value")?p.value:p.text}}if(i!=l.SELECT&&a!=l.BUTTON&&a!=l.RESET&&a!=l.SUBMIT&&a!=l.IMAGE&&(a!=l.CHECKBOX&&a!=l.RADIO||e.checked)){var f=null!==(r=null===(n=e.value.value)||void 0===n?void 0:n.files)&&void 0!==r?r:[];(null==f?void 0:f.length)?t.append(o).value=f[0]:t.append(o).value=e.inputValue.value}}}})),t}},Object.defineProperty(e.prototype,"cDATAAsString",{get:function(){return this.lazyStream.flatMap((function(e){return e.childNodes.stream})).filter((function(e){var t,n;return 4==(null===(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.value)||void 0===n?void 0:n.nodeType)})).reduce((function(e,t){var n,r,o;return e.push(null!==(o=null===(r=null===(n=null==t?void 0:t.value)||void 0===n?void 0:n.value)||void 0===r?void 0:r.data)&&void 0!==o?o:""),e}),[]).value.join("")},enumerable:!1,configurable:!0}),e.prototype.subNodes=function(t,n){return c.Optional.fromNullable(n).isAbsent()&&(n=this.length),new(e.bind.apply(e,s([void 0],this.rootNode.slice(t,Math.min(n,this.length)),!1)))},e.prototype.limits=function(e){return this._limits=e,this},e.prototype.hasNext=function(){var e=-1!=this._limits&&this.pos>=this._limits-1,t=this.pos>=this.values.length-1;return!(e||t)},e.prototype.next=function(){return this.hasNext()?(this.pos++,new e(this.values[this.pos])):null},e.prototype.lookAhead=function(t){return void 0===t&&(t=1),this.values.length-1<this.pos+t?f.ITERATION_STATUS.EO_STRM:new e(this.values[this.pos+t])},e.prototype.current=function(){return-1==this.pos?f.ITERATION_STATUS.BEF_STRM:new e(this.values[this.pos])},e.prototype.reset=function(){this.pos=-1},e.prototype.attachShadow=function(t){void 0===t&&(t={mode:"open"});var n=[];return this.eachElem((function(r){var o;if(!(null==r?void 0:r.attachShadow))throw new Error("Shadow dom creation not supported by the browser, please use a shim, to gain this functionality");o=e.byId(r.attachShadow(t)),n.push(o)})),new(e.bind.apply(e,s([void 0],n,!1)))},e.prototype.waitUntilDom=function(e,t){return void 0===t&&(t={attributes:!0,childList:!0,subtree:!0,timeout:500,interval:100}),a(this,void 0,void 0,(function(){return u(this,(function(n){return[2,_(this,e,t)]}))}))},Object.defineProperty(e.prototype,"shadowElements",{get:function(){var t=(this.querySelectorAll("*").filter((function(e){return e.hasShadow})).allElems()||[]).map((function(e){return e.shadowRoot}));return new(e.bind.apply(e,s([void 0],t,!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowRoot",{get:function(){for(var t=[],n=0;n<this.rootNode.length;n++)this.rootNode[n].shadowRoot&&t.push(this.rootNode[n].shadowRoot);return new(e.bind.apply(e,s([void 0],t,!1)))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasShadow",{get:function(){for(var e=0;e<this.rootNode.length;e++)if(this.rootNode[e].shadowRoot)return!0;return!1},enumerable:!1,configurable:!0}),e.getCaretPosition=function(e){var t=0;try{if(null===document||void 0===document?void 0:document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}}catch(e){}return t},e.setCaretPosition=function(e,t){(null==e?void 0:e.focus)&&(null==e||e.focus()),(null==e?void 0:e.setSelectiongRange)&&(null==e||e.setSelectiongRange(t,t))},e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){return{done:!e.hasNext(),value:e.next()}}}},e.prototype.concat=function(e,t){void 0===t&&(t=!0);var n=this.lazyStream.concat(e.lazyStream).collect(new g);if(!t)return n;var r={};return n.lazyStream.filter((function(e){var t=!(null==r?void 0:r[e.value.value.outerHTML]);return r[e.value.value.outerHTML]=!0,t})).collect(new g)},e.absent=new e,e}();t.DomQuery=S;var g=function(){function e(){this.data=[]}return e.prototype.collect=function(e){this.data.push(e)},Object.defineProperty(e.prototype,"finalValue",{get:function(){return new(S.bind.apply(S,s([void 0],this.data,!1)))},enumerable:!1,configurable:!0}),e}();t.DomQueryCollector=g,t.DQ=S},939:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Lang=void 0;var r=n(620);!function(e){function t(e){for(var t=/\s/,n=(e=e.replace(/^\s\s*/,"")).length;t.test(e.charAt(--n)););return e.slice(0,n+1)}function n(e){return!!arguments.length&&null!=e&&("string"==typeof e||e instanceof String)}e.saveResolve=function(e,t){void 0===t&&(t=null);try{var n=e();return r.Optional.fromNullable(null!=n?n:t)}catch(e){return r.Optional.absent}},e.saveResolveLazy=function(e,t){void 0===t&&(t=null);try{var n=e();return r.Optional.fromNullable(null!=n?n:t())}catch(e){return r.Optional.absent}},e.strToArray=function(e,n){void 0===n&&(n=/\./gi);var r=[];return e.split(n).forEach((function(e){r.push(t(e))})),r},e.trim=t,e.objToArray=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=[]),"__undefined__"==(null!=e?e:"__undefined__")?null!=n?n:null:e instanceof Array&&!t&&!n?e:n.concat(Array.prototype.slice.call(e,t))},e.equalsIgnoreCase=function(e,t){var n=null!=t?t:"___no_value__";return(null!=e?e:"___no_value__").toLowerCase()===n.toLowerCase()},e.assertType=function(e,t){return n(t)?typeof e==t:e instanceof t},e.isString=n,e.isFunc=function(e){return e instanceof Function||"function"==typeof e},e.objAssign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(null==e)throw new TypeError("Cannot convert undefined or null to object");var r=Object(e);return Object.assign?(t.forEach((function(e){return Object.assign(r,e)})),r):(t.filter((function(e){return null!=e})).forEach((function(e){var t=e;Object.keys(t).filter((function(e){return Object.prototype.hasOwnProperty.call(t,e)})).forEach((function(e){return r[e]=t[e]}))})),r)}}(t.Lang||(t.Lang={}))},620:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Config=t.ValueEmbedder=t.Optional=t.Monad=void 0;var i=n(939),a=n(78),u=n(404),s=i.Lang.objAssign,l=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!1,configurable:!0}),e.prototype.map=function(t){return t||(t=function(e){return e}),new e(t(this.value))},e.prototype.flatMap=function(t){for(var n=this.map(t);(null==n?void 0:n.value)instanceof e;)n=n.value;return n},e}();t.Monad=l;var c=function(e){function t(t){return e.call(this,t)||this}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value instanceof l?this._value.flatMap().value:this._value},enumerable:!1,configurable:!0}),t.fromNullable=function(e){return new t(e)},t.prototype.isAbsent=function(){return void 0===this.value||null==this.value},t.prototype.isPresent=function(e){var t=this.isAbsent();return!t&&e&&e.call(this,this),!t},t.prototype.ifPresentLazy=function(e){return void 0===e&&(e=function(){}),this.isPresent.call(this,e),this},t.prototype.orElse=function(e){return this.isPresent()?this:null==e?t.absent:this.flatMap((function(){return e}))},t.prototype.orElseLazy=function(e){return this.isPresent()?this:this.flatMap(e)},t.prototype.flatMap=function(n){var r=e.prototype.flatMap.call(this,n);return r instanceof t?r.flatMap():t.fromNullable(r.value)},t.prototype.getIf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this,r=0;r<e.length;r++){var o=this.keyVal(e[r]),i=this.arrayIndex(e[r]);if(""===o&&i>=0){if((n=this.getClass().fromNullable(n.value instanceof Array?n.value.length<i?null:n.value[i]:null)).isAbsent())return n}else if(o&&i>=0){if(n.getIfPresent(o).isAbsent())return n;if((n=n.getIfPresent(o).value instanceof Array?this.getClass().fromNullable(n.getIfPresent(o).value[i]):this.getClass().absent).isAbsent())return n}else{if((n=n.getIfPresent(o)).isAbsent())return n;i>-1&&(n=this.getClass().fromNullable(n.value[i]))}}return n},t.prototype.match=function(e){return!this.isAbsent()&&e(this.value)},t.prototype.get=function(e){return void 0===e&&(e=t.absent),this.isAbsent()?this.getClass().fromNullable(e).flatMap():this.getClass().fromNullable(this.value).flatMap()},t.prototype.toJson=function(){return JSON.stringify(this.value)},t.prototype.getClass=function(){return t},t.prototype.arrayIndex=function(e){var t=e.indexOf("["),n=e.indexOf("]");return t>=0&&n>0&&t<n?parseInt(e.substring(t+1,n)):-1},t.prototype.keyVal=function(e){var t=e.indexOf("[");return t>=0?e.substring(0,t):e},t.prototype.getIfPresent=function(e){return this.isAbsent()?this.getClass().absent:this.getClass().fromNullable(this.value[e]).flatMap()},t.prototype.resolve=function(e){if(this.isAbsent())return t.absent;try{return t.fromNullable(e(this.value))}catch(e){return t.absent}},t.absent=t.fromNullable(null),t}(l);t.Optional=c;var p=function(e){function t(t,n){void 0===n&&(n="value");var r=e.call(this,t)||this;return r.key=n,r}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value?this._value[this.key]:null},set:function(e){this._value&&(this._value[this.key]=e)},enumerable:!1,configurable:!0}),t.prototype.orElse=function(e){var n={};return n[this.key]=e,this.isPresent()?this:new t(n,this.key)},t.prototype.orElseLazy=function(e){if(this.isPresent())return this;var n={};return n[this.key]=e(),new t(n,this.key)},t.prototype.getClass=function(){return t},t.fromNullable=function(e,n){return void 0===n&&(n="value"),new t(e,n)},t.absent=t.fromNullable(null),t}(c);t.ValueEmbedder=p;var f=function(e){function t(t,n,r){var o=e.call(this,t,n)||this;return o.arrPos=null!=r?r:-1,o}return o(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return""==this.key&&this.arrPos>=0?this._value[this.arrPos]:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]:this._value[this.key]},set:function(e){""==this.key&&this.arrPos>=0?this._value[this.arrPos]=e:this.key&&this.arrPos>=0?this._value[this.key][this.arrPos]=e:this._value[this.key]=e},enumerable:!1,configurable:!0}),t.absent=t.fromNullable(null),t}(p),h=function(e){function t(t){return e.call(this,t)||this}return o(t,e),Object.defineProperty(t.prototype,"shallowCopy",{get:function(){return new t(u.Stream.ofAssoc(this.value).collect(new a.AssocArrayCollector))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deepCopy",{get:function(){return new t(s({},this.value))},enumerable:!1,configurable:!0}),t.fromNullable=function(e){return new t(e)},t.prototype.shallowMerge=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=!1);var o=function(o){!t&&o in i.value||(n?Array.isArray(e.getIf(o).value)?u.Stream.of.apply(u.Stream,e.getIf(o).value).each((function(e){return r.append(o).value=e})):i.append(o).value=e.getIf(o).value:i.assign(o).value=e.getIf(o).value)},i=this;for(var a in e.value)o(a)},t.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length<1;if(!n){var r=e[e.length-1],o=(this.keyVal(r),this.getIf.apply(this,e).isPresent());this.buildPath(e);var i=this.arrayIndex(r);if(i>-1)throw Error("Append only possible on non array properties, use assign on indexed data");var a=this.getIf.apply(this,e).value;Array.isArray(a)||(a=this.assign.apply(this,e).value=[a]),o&&a.push({}),i=a.length-1;var u=new f(1==e.length?this.value:this.getIf.apply(this,e.slice(0,e.length-1)).value,r,i);return u}},t.prototype.appendIf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?this.append.apply(this,t):{value:null}},t.prototype.assign=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!(e.length<1)){this.buildPath(e);var n=this.keyVal(e[e.length-1]),r=this.arrayIndex(e[e.length-1]),o=new f(1==e.length?this.value:this.getIf.apply(this,e.slice(0,e.length-1)).value,n,r);return o}},t.prototype.assignIf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e?this.assign.apply(this,t):{value:null}},t.prototype.getIf=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.getClass().fromNullable(e.prototype.getIf.apply(this,t).value)},t.prototype.get=function(t){return this.getClass().fromNullable(e.prototype.get.call(this,t).value)},t.prototype.delete=function(e){return e in this.value&&delete this.value[e],this},t.prototype.toJson=function(){return JSON.stringify(this.value)},t.prototype.getClass=function(){return t},t.prototype.setVal=function(e){this._value=e},t.prototype.buildPath=function(e){for(var t=this,n=this.getClass().fromNullable(null),r=-1,o=function(e,t){for(var n=e.length,r=n+t,o=n;o<r;o++)e.push({})},i=0;i<e.length;i++){var a=this.keyVal(e[i]),u=this.arrayIndex(e[i]);if(""===a&&u>=0)t.setVal(t.value instanceof Array?t.value:[]),o(t.value,u+1),r>=0&&(n.value[r]=t.value),n=t,r=u,t=this.getClass().fromNullable(t.value[u]);else{var s=t.getIf(a);if(-1==u)s.isAbsent()?s=this.getClass().fromNullable(t.value[a]={}):t=s;else{var l=s.value instanceof Array?s.value:[];o(l,u+1),t.value[a]=l,s=this.getClass().fromNullable(l[u])}n=t,r=u,t=s}}return this},t}(c);t.Config=h},78:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryFormStringCollector=t.QueryFormDataCollector=t.FormDataCollector=t.AssocArrayCollector=t.Run=t.ArrayAssocArrayCollector=t.ArrayCollector=t.FlatMapStreamDataSource=t.MappedStreamDataSource=t.FilteredStreamDatasource=t.ArrayStreamDataSource=t.SequenceDataSource=t.ITERATION_STATUS=void 0;var o,i=n(404);!function(e){e.EO_STRM="__EO_STRM__",e.BEF_STRM="___BEF_STRM__"}(o=t.ITERATION_STATUS||(t.ITERATION_STATUS={}));var a=function(){function e(e,t){this.total=t,this.start=e,this.value=e-1}return e.prototype.hasNext=function(){return this.value<this.total-1},e.prototype.next=function(){return this.value++,this.value<=this.total-1?this.value:o.EO_STRM},e.prototype.lookAhead=function(e){return void 0===e&&(e=1),this.value+e>this.total-1?o.EO_STRM:this.value+e},e.prototype.reset=function(){this.value=this.start-1},e.prototype.current=function(){return this.start-1?o.BEF_STRM:this.value},e}();t.SequenceDataSource=a;var u=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.dataPos=-1,this.value=e}return e.prototype.lookAhead=function(e){return void 0===e&&(e=1),this.dataPos+e>this.value.length-1?o.EO_STRM:this.value[this.dataPos+e]},e.prototype.hasNext=function(){return this.value.length-1>this.dataPos},e.prototype.next=function(){var e;return this.dataPos++,null!==(e=null==this?void 0:this.value[this.dataPos])&&void 0!==e?e:o.EO_STRM},e.prototype.reset=function(){this.dataPos=-1},e.prototype.current=function(){return this.value[Math.max(0,this.dataPos)]},e}();t.ArrayStreamDataSource=u;var s=function(){function e(e,t){this._current=o.BEF_STRM,this._filterIdx={},this._unfilteredPos=0,this.filterFunc=e,this.inputDataSource=t}return e.prototype.hasNext=function(){for(var e,t=1,n=!1;!n&&(e=this.inputDataSource.lookAhead(t))!=o.EO_STRM;)this.filterFunc(e)?(this._filterIdx[this._unfilteredPos+t]=!0,n=!0):t++;return n},e.prototype.next=function(){for(var e,t,n=o.EO_STRM;this.inputDataSource.hasNext();){this._unfilteredPos++;var r=this.inputDataSource.next();if(r!=o.EO_STRM&&(null!==(t=null===(e=this._filterIdx)||void 0===e?void 0:e[this._unfilteredPos])&&void 0!==t&&t||this.filterFunc(r))){this._filterIdx[this._unfilteredPos]=!0,n=r;break}}return this._current=n,n},e.prototype.lookAhead=function(e){var t,n;void 0===e&&(e=1);for(var r=1;e>0&&(n=this.inputDataSource.lookAhead(r))!=o.EO_STRM;r++)((null===(t=this._filterIdx)||void 0===t?void 0:t[this._unfilteredPos+r])||this.filterFunc(n))&&(e--,this._filterIdx[this._unfilteredPos+r]=!0);return n},e.prototype.current=function(){return this._current},e.prototype.reset=function(){this._current=o.BEF_STRM,this._filterIdx={},this._unfilteredPos=0,this.inputDataSource.reset()},e}();t.FilteredStreamDatasource=s;var l=function(){function e(e,t){this.mapFunc=e,this.inputDataSource=t}return e.prototype.hasNext=function(){return this.inputDataSource.hasNext()},e.prototype.next=function(){return this.mapFunc(this.inputDataSource.next())},e.prototype.reset=function(){this.inputDataSource.reset()},e.prototype.current=function(){return this.mapFunc(this.inputDataSource.current())},e.prototype.lookAhead=function(e){void 0===e&&(e=1);var t=this.inputDataSource.lookAhead(e);return t==o.EO_STRM?t:this.mapFunc(t)},e}();t.MappedStreamDataSource=l;var c=function(){function e(e,t){this.walkedDataSources=[],this._currPos=0,this.mapFunc=e,this.inputDataSource=t}return e.prototype.hasNext=function(){return this.resolveActiveHasNext()||this.resolveNextHasNext()},e.prototype.resolveActiveHasNext=function(){var e=!1;return this.activeDataSource&&(e=this.activeDataSource.hasNext()),e},e.prototype.lookAhead=function(e){var t;if(void 0===e&&(e=1),(null==this?void 0:this.activeDataSource)&&(null===(t=null==this?void 0:this.activeDataSource)||void 0===t?void 0:t.lookAhead(e))!=o.EO_STRM)return null==this?void 0:this.activeDataSource.lookAhead(e);function n(t){var n=t?function(e){for(var t=1;e.lookAhead(t)!==o.EO_STRM;)t++;return t-1}(t):0;e-=n}this.activeDataSource&&n(this.activeDataSource);for(var r=1;;r++){var i=this.inputDataSource.lookAhead(r);if(i===o.EO_STRM)return o.EO_STRM;var a=this.mapFunc(i),u=this.toDatasource(a).lookAhead(e);if(u!=o.EO_STRM)return u;n(i)}},e.prototype.toDatasource=function(e){var t=Array.isArray(e)?new(u.bind.apply(u,r([void 0],e,!1))):e;return this.walkedDataSources.push(t),t},e.prototype.resolveNextHasNext=function(){for(var e=!1;!e&&this.inputDataSource.hasNext();){var t=this.mapFunc(this.inputDataSource.next());this.activeDataSource=this.toDatasource(t),e=this.activeDataSource.hasNext()}return e},e.prototype.next=function(){if(this.hasNext())return this._currPos++,this.activeDataSource.next()},e.prototype.reset=function(){this.inputDataSource.reset(),this.walkedDataSources.forEach((function(e){return e.reset()})),this.walkedDataSources=[],this._currPos=0,this.activeDataSource=null},e.prototype.current=function(){return this.activeDataSource||this.hasNext(),this.activeDataSource.current()},e}();t.FlatMapStreamDataSource=c;var p=function(){function e(){this.data=[]}return e.prototype.collect=function(e){this.data.push(e)},Object.defineProperty(e.prototype,"finalValue",{get:function(){return this.data},enumerable:!1,configurable:!0}),e}();t.ArrayCollector=p;var f=function(){function e(){this.finalValue={}}return e.prototype.collect=function(e){var t,n,r,o,i=null!==(t=null==e?void 0:e[0])&&void 0!==t?t:e;this.finalValue[i]=null!==(r=null===(n=this.finalValue)||void 0===n?void 0:n[i])&&void 0!==r?r:[],this.finalValue[i].push(null===(o=null==e?void 0:e[1])||void 0===o||o)},e}();t.ArrayAssocArrayCollector=f;var h=function(){function e(){}return e.prototype.collect=function(e){},Object.defineProperty(e.prototype,"finalValue",{get:function(){return null},enumerable:!1,configurable:!0}),e}();t.Run=h;var v=function(){function e(){this.finalValue={}}return e.prototype.collect=function(e){var t,n;this.finalValue[null!==(t=e[0])&&void 0!==t?t:e]=null===(n=e[1])||void 0===n||n},e}();t.AssocArrayCollector=v;var d=function(){function e(){this.finalValue=new FormData}return e.prototype.collect=function(e){this.finalValue.append(e.key,e.value)},e}();t.FormDataCollector=d;var E=function(){function e(){this.finalValue=new FormData}return e.prototype.collect=function(e){var t=e.encodeFormElement();t.isPresent()&&this.finalValue.append(e.name.value,t.get(e.name).value)},e}();t.QueryFormDataCollector=E;var y=function(){function e(){this.formData=[]}return e.prototype.collect=function(e){var t=e.encodeFormElement();t.isPresent()&&this.formData.push([e.name.value,t.get(e.name).value])},Object.defineProperty(e.prototype,"finalValue",{get:function(){return i.Stream.of.apply(i.Stream,this.formData).map((function(e){return e.join("=")})).reduce((function(e,t){return[e,t].join("&")})).orElse("").value},enumerable:!1,configurable:!0}),e}();t.QueryFormStringCollector=y},404:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LazyStream=t.Stream=void 0;var o=n(620),i=n(78),a=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._limits=-1,this.pos=-1,this.value=e}return e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new(e.bind.apply(e,r([void 0],t,!1)))},e.ofAssoc=function(e){return this.of.apply(this,Object.keys(e)).map((function(t){return[t,e[t]]}))},e.ofDataSource=function(t){for(var n=[];t.hasNext();)n.push(t.next());return new(e.bind.apply(e,r([void 0],n,!1)))},e.prototype.limits=function(e){return this._limits=e,this},e.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.of.apply(e,r([this],t,!1)).flatMap((function(e){return e}))},e.prototype.onElem=function(e){for(var t=0;t<this.value.length&&(-1==this._limits||t<this._limits)&&!1!==e(this.value[t],t);t++);return this},e.prototype.each=function(e){this.onElem(e),this.reset()},e.prototype.map=function(t){t||(t=function(e){return e});var n=[];return this.each((function(e){n.push(t(e))})),new(e.bind.apply(e,r([void 0],n,!1)))},e.prototype.flatMap=function(t){var n=[];return this.each((function(e){var r=t(e);n=Array.isArray(r)?n.concat(r):n.concat.apply(n,r.value)})),e.of.apply(e,n)},e.prototype.filter=function(t){var n=[];return this.each((function(e){t(e)&&n.push(e)})),new(e.bind.apply(e,r([void 0],n,!1)))},e.prototype.reduce=function(e,t){void 0===t&&(t=null);for(var n=null!=t?0:1,r=null!=t?t:this.value.length?this.value[0]:null,i=n;i<this.value.length&&(-1==this._limits||i<this._limits);i++)r=e(r,this.value[i]);return this.reset(),o.Optional.fromNullable(r)},e.prototype.first=function(){return this.reset(),this.value&&this.value.length?o.Optional.fromNullable(this.value[0]):o.Optional.absent},e.prototype.last=function(){var e=this._limits>0?Math.min(this._limits,this.value.length):this.value.length;return this.reset(),o.Optional.fromNullable(e?this.value[e-1]:null)},e.prototype.anyMatch=function(e){for(var t=0;t<this.value.length&&(-1==this._limits||t<this._limits);t++)if(e(this.value[t]))return!0;return this.reset(),!1},e.prototype.allMatch=function(e){if(!this.value.length)return!1;for(var t=0,n=0;n<this.value.length;n++)e(this.value[n])&&t++;return this.reset(),t==this.value.length},e.prototype.noneMatch=function(e){for(var t=0,n=0;n<this.value.length;n++)e(this.value[n])||t++;return this.reset(),t==this.value.length},e.prototype.sort=function(t){var n=this.value.slice().sort(t);return e.of.apply(e,n)},e.prototype.collect=function(e){return this.each((function(t){return e.collect(t)})),this.reset(),e.finalValue},e.prototype.hasNext=function(){var e=-1!=this._limits&&this.pos>=this._limits-1,t=this.pos>=this.value.length-1;return!(e||t)},e.prototype.next=function(){return this.hasNext()?(this.pos++,this.value[this.pos]):null},e.prototype.lookAhead=function(e){return void 0===e&&(e=1),this.pos+e>=this.value.length?i.ITERATION_STATUS.EO_STRM:this.value[this.pos+e]},e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){return{done:!e.hasNext(),value:e.next()}}}},e.prototype.reset=function(){this.pos=-1},e}();t.Stream=a;var u=function(){function e(e){this._limits=-1,this.pos=-1,this.dataSource=e}return e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(new(i.ArrayStreamDataSource.bind.apply(i.ArrayStreamDataSource,r([void 0],t,!1))))},e.ofAssoc=function(e){return this.of.apply(this,Object.keys(e)).map((function(t){return[t,e[t]]}))},e.ofStreamDataSource=function(t){return new e(t)},e.prototype.hasNext=function(){return!this.isOverLimits()&&this.dataSource.hasNext()},e.prototype.next=function(){var e=this.dataSource.next();return this.pos++,e},e.prototype.lookAhead=function(e){return void 0===e&&(e=1),this.dataSource.lookAhead(e)},e.prototype.current=function(){return this.dataSource.current()},e.prototype.reset=function(){this.dataSource.reset(),this.pos=-1,this._limits=-1},e.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.of.apply(e,r([this],t,!1)).flatMap((function(e){return e}))},e.prototype.nextFilter=function(e){if(this.hasNext()){var t=this.next();return e(t)?t:this.nextFilter(e)}return null},e.prototype.limits=function(e){return this._limits=e,this},e.prototype.collect=function(e){for(;this.hasNext();){var t=this.next();e.collect(t)}return this.reset(),e.finalValue},e.prototype.onElem=function(t){var n=this;return new e(new i.MappedStreamDataSource((function(e){return!1===t(e,n.pos)&&n.stop(),e}),this))},e.prototype.filter=function(t){return new e(new i.FilteredStreamDatasource(t,this))},e.prototype.map=function(t){return new e(new i.MappedStreamDataSource(t,this))},e.prototype.flatMap=function(t){return new e(new i.FlatMapStreamDataSource(t,this))},e.prototype.each=function(e){for(;this.hasNext();)!1===e(this.next())&&this.stop();this.reset()},e.prototype.reduce=function(e,t){if(void 0===t&&(t=null),!this.hasNext())return o.Optional.absent;var n,r=null;if(null!=t)n=t,r=this.next();else{if(n=this.next(),!this.hasNext())return o.Optional.fromNullable(n);r=this.next()}for(n=e(n,r);this.hasNext();)n=e(n,r=this.next());return this.reset(),o.Optional.fromNullable(n)},e.prototype.last=function(){return this.hasNext()?this.reduce((function(e,t){return t})):o.Optional.absent},e.prototype.first=function(){return this.reset(),this.hasNext()?o.Optional.fromNullable(this.next()):o.Optional.absent},e.prototype.anyMatch=function(e){for(;this.hasNext();)if(e(this.next()))return!0;return!1},e.prototype.allMatch=function(e){for(;this.hasNext();)if(!e(this.next()))return!1;return!0},e.prototype.noneMatch=function(e){for(;this.hasNext();)if(e(this.next()))return!1;return!0},e.prototype.sort=function(t){var n=this.collect(new i.ArrayCollector);return n=n.sort(t),e.of.apply(e,n)},Object.defineProperty(e.prototype,"value",{get:function(){return this.collect(new i.ArrayCollector)},enumerable:!1,configurable:!0}),e.prototype[Symbol.iterator]=function(){var e=this;return{next:function(){return{done:!e.hasNext(),value:e.next()}}}},e.prototype.stop=function(){this.pos=this._limits+1e9,this._limits=0},e.prototype.isOverLimits=function(){return-1!=this._limits&&this.pos>=this._limits-1},e}();t.LazyStream=u},163:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.XQ=t.XMLQuery=void 0;var i=n(939),a=n(370),u=i.Lang.isString,s=function(e){function t(t,n){var r;return void 0===n&&(n="text/xml"),u(t)?e.call(this,null==(r=t)?null:i.Lang.saveResolveLazy((function(){return new window.DOMParser}),(function(){return(e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,{parseFromString:function(t,n){return e.loadXML(t)}};var e})).value.parseFromString(r,n))||this:e.call(this,t)||this}return o(t,e),t.prototype.isXMLParserError=function(){return this.querySelectorAll("parsererror").isPresent()},t.prototype.toString=function(){var e=[];return this.eachElem((function(t){var n,r,o,i=null!==(o=null===(r=null===(n=null===window||void 0===window?void 0:window.XMLSerializer)||void 0===n?void 0:n.constructor())||void 0===r?void 0:r.serializeToString(t))&&void 0!==o?o:null==t?void 0:t.xml;i&&e.push(i)})),e.join("")},t.prototype.parserErrorText=function(e){return this.querySelectorAll("parsererror").textContent(e)},t.parseXML=function(e){return new t(e)},t.parseHTML=function(e){return new t(e,"text/html")},t.fromString=function(e,n){return void 0===n&&(n="text/xml"),new t(e,n)},t}(a.DomQuery);t.XMLQuery=s,t.XQ=s},421:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QueryFormDataCollector=t.FormDataCollector=t.AssocArrayCollector=t.ArrayCollector=t.QueryFormStringCollector=t.SequenceDataSource=t.FlatMapStreamDataSource=t.FilteredStreamDatasource=t.MappedStreamDataSource=t.ArrayStreamDataSource=t.LazyStream=t.Stream=t.XQ=t.XMLQuery=t.ValueEmbedder=t.Optional=t.Monad=t.Config=t.Lang=t.DQ=t.DomQueryCollector=t.ElementAttribute=t.DomQuery=void 0;var r=n(370);Object.defineProperty(t,"DomQuery",{enumerable:!0,get:function(){return r.DomQuery}}),Object.defineProperty(t,"ElementAttribute",{enumerable:!0,get:function(){return r.ElementAttribute}}),Object.defineProperty(t,"DomQueryCollector",{enumerable:!0,get:function(){return r.DomQueryCollector}}),Object.defineProperty(t,"DQ",{enumerable:!0,get:function(){return r.DQ}});var o=n(939);Object.defineProperty(t,"Lang",{enumerable:!0,get:function(){return o.Lang}});var i=n(620);Object.defineProperty(t,"Config",{enumerable:!0,get:function(){return i.Config}}),Object.defineProperty(t,"Monad",{enumerable:!0,get:function(){return i.Monad}}),Object.defineProperty(t,"Optional",{enumerable:!0,get:function(){return i.Optional}}),Object.defineProperty(t,"ValueEmbedder",{enumerable:!0,get:function(){return i.ValueEmbedder}});var a=n(163);Object.defineProperty(t,"XMLQuery",{enumerable:!0,get:function(){return a.XMLQuery}}),Object.defineProperty(t,"XQ",{enumerable:!0,get:function(){return a.XQ}});var u=n(404);Object.defineProperty(t,"Stream",{enumerable:!0,get:function(){return u.Stream}}),Object.defineProperty(t,"LazyStream",{enumerable:!0,get:function(){return u.LazyStream}});var s=n(78);Object.defineProperty(t,"ArrayStreamDataSource",{enumerable:!0,get:function(){return s.ArrayStreamDataSource}}),Object.defineProperty(t,"MappedStreamDataSource",{enumerable:!0,get:function(){return s.MappedStreamDataSource}}),Object.defineProperty(t,"FilteredStreamDatasource",{enumerable:!0,get:function(){return s.FilteredStreamDatasource}}),Object.defineProperty(t,"FlatMapStreamDataSource",{enumerable:!0,get:function(){return s.FlatMapStreamDataSource}}),Object.defineProperty(t,"SequenceDataSource",{enumerable:!0,get:function(){return s.SequenceDataSource}}),Object.defineProperty(t,"QueryFormStringCollector",{enumerable:!0,get:function(){return s.QueryFormStringCollector}}),Object.defineProperty(t,"ArrayCollector",{enumerable:!0,get:function(){return s.ArrayCollector}}),Object.defineProperty(t,"AssocArrayCollector",{enumerable:!0,get:function(){return s.AssocArrayCollector}}),Object.defineProperty(t,"FormDataCollector",{enumerable:!0,get:function(){return s.FormDataCollector}}),Object.defineProperty(t,"QueryFormDataCollector",{enumerable:!0,get:function(){return s.QueryFormDataCollector}})},486:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.myfaces=t.jsf=void 0;var o,i=n(434),a=n(322);!function(e){var t,n;e.specversion=22e4,e.implversion=0,e.separatorchar=i.Implementation.getSeparatorChar(),e.getProjectStage=function(){return i.Implementation.getProjectStage()},e.getViewState=function(e){return i.Implementation.getViewState(e)},e.getClientWindow=function(e){return i.Implementation.getClientWindow(e)},(n=e.ajax||(e.ajax={})).request=function(e,t,n){i.Implementation.request(e,t,n)},n.response=function(e,t){i.Implementation.response(e,t)},n.addOnError=function(e){i.Implementation.addOnError(e)},n.addOnEvent=function(e){i.Implementation.addOnEvent(e)},(e.util||(e.util={})).chain=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return i.Implementation.chain.apply(i.Implementation,r([e,t],n,!1))},(t=e.push||(e.push={})).init=function(e,t,n,r,o,i,u,s){a.PushImpl.init(e,t,n,r,o,i,u,s)},t.open=function(e){a.PushImpl.open(e)},t.close=function(e){a.PushImpl.close(e)}}(o=t.jsf||(t.jsf={})),(t.myfaces||(t.myfaces={})).ab=function(e,t,n,r,i,a){void 0===a&&(a={}),n&&(a["javax.faces.behavior.event"]=n),r&&(a.execute=r),i&&(a.render=i),o.ajax.request(e,t,a)}},434:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Implementation=void 0;var r,o,i=n(549),a=n(317),u=n(453),s=n(421),l=n(402),c=n(768),p=n(24),f=n(935),h=n(561),v=n(526),d=n(684);!function(e){e.Production="Production",e.Development="Development",e.SystemTest="SystemTest",e.UnitTest="UnitTest"}(r||(r={})),function(e){e.onerror="onerror",e.onevent="onevent",e.render="render",e.execute="execute",e.myfaces="myfaces",e.delay="delay",e.timeout="timeout",e.windowId="windowId"}(o||(o={})),function(e){var t=s.Lang.trim,n=h.ExtLang.getMessage,E=h.ExtLang.getGlobalConfig,y=l.Assertions.assert,_=[],m=[];function T(){var e=p.ExtDomquery.searchJsfJsFor(/stage=([^&;]*)/).value;return e in r?e:null}function S(e,t){void 0===t&&(t=function(e){}),t(e),m.forEach((function(t){t(e)})),E("defaultErrorOutput",console?console.error:alert)(e)}function g(e,n,r,o,i){for(var a=r?t(r).split(/\s+/gi):[],u=[],s={},l=0;l<a.length;l++)if(!(a[l]in s))switch(a[l]){case v.IDENT_NONE:return e.delete(n);case v.IDENT_ALL:return e.assign(n).value=v.IDENT_ALL,e;case v.IDENT_FORM:u.push(o.id.value),s[o.id.value]=!0;break;case v.IDENT_THIS:i in s||(u.push(i),s[i]=!0);break;default:u.push(a[l]),s[a[l]]=!0}return e.assign(n).value=u.join(" "),e}function A(){var e,t;return null!==(t=null===(e=null===window||void 0===window?void 0:window[v.MYFACES])||void 0===e?void 0:e.config)&&void 0!==t?t:{}}function R(e,n,r){if("string"!=typeof r)return!1!==r.call(e,n);var o=t(r);return 0==o.indexOf("function ")&&(o="return ".concat(o," (event)")),!1!==new Function("event",o).call(e,n)}e.requestQueue=null,e.getSeparatorChar=function(){var e,t,n;return null!==(n=null!==(t=null===(e=A())||void 0===e?void 0:e.separator)&&void 0!==t?t:null==this?void 0:this.separator)&&void 0!==n?n:p.ExtDomquery.searchJsfJsFor(/separator=([^&;]*)/).orElse(":").value},e.reset=function(){_=[],m=[],e.requestQueue=null},e.getProjectStage=function(){var e,t,n;return null!==(n=null!==(t=null===(e=A())||void 0===e?void 0:e.projectStage)&&void 0!==t?t:null==this?void 0:this.projectStage)&&void 0!==n?n:T()},e.resolveProjectStateFromURL=T,e.chain=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return s.LazyStream.of.apply(s.LazyStream,n).map((function(n){return R(e,t,n)})).onElem((function(e){return e})).last().value},e.request=function(t,n,r){var i,a,u,c=(0,d.resolveDefaults)(n,r,t),p=c.resolvedEvent,f=c.options,h=c.elem,E=c.elementId,y=c.requestCtx,_=c.internalCtx,m=c.windowId,T=c.isResetValues;l.Assertions.assertRequestIntegrity(f,h);var S,A,R,b,P,O=(0,d.resolveForm)(y,h,p),M=O.id.value,N=(0,d.resolveDelay)(f),C=(0,d.resolveTimeout)(f);y.assignIf(!!m,v.P_WINDOW_ID).value=m,y.assign(v.CTX_PARAM_PASS_THR).value=(S=f.value,s.Stream.ofAssoc(S).filter((function(e){return!(e[0]in o)})).collect(new s.AssocArrayCollector)),y.assignIf(!!p,v.CTX_PARAM_PASS_THR,v.P_EVT).value=null==p?void 0:p.type,y.assign(v.SOURCE).value=E,y.assign(v.ON_EVENT).value=null===(i=f.value)||void 0===i?void 0:i.onevent,y.assign(v.ON_ERROR).value=null===(a=f.value)||void 0===a?void 0:a.onerror,y.assign(v.MYFACES).value=null===(u=f.value)||void 0===u?void 0:u.myfaces,y.assign(v.CTX_PARAM_PASS_THR,v.P_PARTIAL_SOURCE).value=E,y.assign(v.CTX_PARAM_PASS_THR,v.P_AJAX).value=!0,y.assignIf(T,v.CTX_PARAM_PASS_THR,v.P_RESET_VALUES).value=!0,_.assign(v.CTX_PARAM_SRC_FRM_ID).value=M,y.assign(v.CTX_PARAM_PASS_THR,M).value=M,_.assign(v.CTX_PARAM_SRC_CTL_ID).value=E,_.assign(v.CTX_PARAM_TR_TYPE).value=v.REQ_TYPE_POST,function(e,t){var n=jsf.getClientWindow(e.getAsElem(0).value);n&&(t.assign(v.CTX_PARAM_PASS_THR,v.P_CLIENT_WINDOW).value=n)}(O,y),R=y,b=O,P=E,(A=f).getIf(v.CTX_PARAM_EXECUTE).isPresent()?(A.assign(v.CTX_PARAM_EXECUTE).value=[A.getIf(v.CTX_PARAM_EXECUTE).value,v.IDENT_THIS].join(" "),g(R.getIf(v.CTX_PARAM_PASS_THR).get({}),v.P_EXECUTE,A.getIf(v.CTX_PARAM_EXECUTE).value,b,P)):R.assign(v.CTX_PARAM_PASS_THR,v.P_EXECUTE).value=P,function(e,t,n,r){e.getIf(v.RENDER).isPresent()&&g(t.getIf(v.CTX_PARAM_PASS_THR).get({}),v.P_RENDER,e.getIf(v.RENDER).value,n,r)}(f,y,O,E),e.queueHandler.addRequestToQueue(h,O,y,_,N,C)},e.response=function(e,t){i.Response.processResponse(e,t)},e.addOnError=function(e){m.push(e)},e.addOnEvent=function(e){_.push(e)},e.sendEvent=function(e,t){void 0===t&&(t=function(e){}),t(e),_.forEach((function(t){return t(e)}))},e.stdErrorHandler=function(t,n,r,o){void 0===o&&(o=!1);try{S(f.ErrorData.fromClient(r))}finally{o&&e.requestQueue.cleanup()}},e.sendError=S,e.getClientWindow=function(e){var t="___mf_id_altered__",n="___init____",r=new s.DQ(e||document.body).querySelectorAll("form input [name='".concat(v.P_CLIENT_WINDOW,"']")).stream.map((function(e){return e.attr("value").value})).reduce((function(e,r){return e==n?r:e==t||e!=r?t:r}),n);return y(t!=r.value,"Multiple different windowIds found in document"),r.value!=n?r.value:p.ExtDomquery.searchJsfJsFor(/jfwid=([^&;]*)/).orElse(null).value},e.getViewState=function(e){var t=s.DQ.byId(e,!0);if(!t.isTag(v.TAG_FORM))throw new Error(n("ERR_VIEWSTATE"));return new c.XhrFormData(t).toString()},e.queueHandler={addRequestToQueue:function(t,n,r,o,i,s){void 0===i&&(i=0),void 0===s&&(s=0),e.requestQueue=null!==e.requestQueue&&void 0!==e.requestQueue?e.requestQueue:new u.AsynchronousQueue,e.requestQueue.enqueue(new a.XhrRequest(t,n,r,o,[],s),i)}}}(t.Implementation||(t.Implementation={}))},322:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PushImpl=void 0;var r=n(486),o=n(526);!function(e){var t=window.location.protocol.replace("http","ws")+"//";e.sockets={},e.components={},e.clientIdsByTokens={},e.reset=function(){e.sockets={},e.components={},e.clientIdsByTokens={}},e.init=function(o,i,u,s,l,c,p,f){if(c=a(c),window.WebSocket){var h=i.substr(i.indexOf("?")+1);e.components[o]||(e.components[o]={channelToken:h,onopen:a(s),onmessage:a(l),onclose:c,behaviors:p,autoconnect:f},e.clientIdsByTokens[h]||(e.clientIdsByTokens[h]=[]),e.clientIdsByTokens[h].push(o),e.sockets[h]||(e.sockets[h]=new n(h,function(e){if(e.indexOf("://")<0){var n=window.location.hostname+":"+window.location.port;return t+n+e}return e}(i),u))),f&&r.jsf.push.open(o)}else c(-1,u)},e.open=function(t){var n;i(null===(n=null===e.components||void 0===e.components?void 0:e.components[t])||void 0===n?void 0:n.channelToken).open()},e.close=function(t){i(null===e.components||void 0===e.components?void 0:e.components[t].channelToken).close()};var n=function(){function t(e,t,n){this.channelToken=e,this.url=t,this.channel=n,this.reconnectAttempts=0}return t.prototype.open=function(){this.socket&&1==this.socket.readyState||(this.socket=new WebSocket(this.url),this.bindCallbacks())},t.prototype.onopen=function(t){if(!this.reconnectAttempts)for(var n=e.clientIdsByTokens[this.channelToken],r=n.length-1;r>=0;r--){var o=n[r];e.components[o].onopen(this.channel)}this.reconnectAttempts=0},t.prototype.onmmessage=function(t){for(var n=JSON.parse(t.data),r=e.clientIdsByTokens[this.channelToken].length-1;r>=0;r--){var o=e.clientIdsByTokens[this.channelToken][r];if(document.getElementById(o)){try{e.components[o].onmessage(n,this.channel,t)}catch(e){}var i=e.components[o].behaviors[n];if(i&&i.length)for(var a=0;a<i.length;a++)try{i[a](null)}catch(e){}}else e.clientIdsByTokens[this.channelToken].splice(r,1)}0==e.clientIdsByTokens[this.channelToken].length&&this.close()},t.prototype.onclose=function(t){if(!this.socket||1e3==t.code&&t.reason==o.REASON_EXPIRED||1008==t.code||!this.reconnectAttempts||this.reconnectAttempts>=o.MAX_RECONNECT_ATTEMPTS)for(var n=e.clientIdsByTokens[this.channelToken],r=n.length-1;r>=0;r--){var i=n[r];e.components[i].onclose(null==t?void 0:t.code,null==this?void 0:this.channel,t)}else setTimeout(this.open,o.RECONNECT_INTERVAL*this.reconnectAttempts++)},t.prototype.close=function(){if(this.socket){var e=this.socket;this.socket=null,e.close()}},t.prototype.bindCallbacks=function(){var e=this;this.socket.onopen=function(t){return e.onopen(t)},this.socket.onmessage=function(t){return e.onmmessage(t)},this.socket.onclose=function(t){return e.onclose(t)}},t}();function i(t){var n=e.sockets[t];if(n)return n;throw new Error("Unknown channelToken: "+t)}function a(e){return void 0===e&&(e=function(){}),"function"!=typeof e&&(e=window[e]),e}}(t.PushImpl||(t.PushImpl={}))},526:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CTX_PARAM_RST=t.CTX_PARAM_TIMEOUT=t.CTX_PARAM_DELAY=t.CTX_PARAM_PASS_THR=t.CTX_PARAM_TR_TYPE=t.CTX_PARAM_SRC_CTL_ID=t.CTX_PARAM_SRC_FRM_ID=t.CTX_PARAM_MF_INTERNAL=t.TIMEOUT_EVENT=t.CLIENT_ERROR=t.SERVER_ERROR=t.MALFORMEDXML=t.EMPTY_RESPONSE=t.HTTPERROR=t.RESPONSE_XML=t.RESPONSE_TEXT=t.ERROR_MESSAGE=t.ERROR_NAME=t.STATUS=t.SOURCE=t.SUCCESS=t.COMPLETE=t.BEGIN=t.ON_EVENT=t.ON_ERROR=t.EVENT=t.ERROR=t.WINDOW_ID=t.RENDER=t.P_WINDOW_ID=t.P_RESET_VALUES=t.P_CLIENT_WINDOW=t.P_EVT=t.P_RENDER=t.P_EXECUTE=t.P_AJAX=t.IDENT_FORM=t.IDENT_THIS=t.IDENT_NONE=t.IDENT_ALL=t.HTML_VIEWSTATE=t.EMPTY_MAP=t.EMPTY_STR=t.EMPTY_FUNC=t.P_VIEWBODY=t.P_VIEWHEAD=t.P_VIEWROOT=t.P_VIEWSTATE=t.PARTIAL_ID=t.P_PARTIAL_SOURCE=void 0,t.RECONNECT_INTERVAL=t.APPLIED_CLIENT_WINDOW=t.APPLIED_VST=t.REASON_EXPIRED=t.MF_NONE=t.SEL_SCRIPTS_STYLES=t.MYFACES=t.UPDATE_ELEMS=t.UPDATE_FORMS=t.CMD_REDIRECT=t.CMD_EXTENSION=t.CMD_ATTRIBUTES=t.CMD_ERROR=t.CMD_EVAL=t.CMD_INSERT=t.CMD_DELETE=t.CMD_UPDATE=t.CMD_CHANGES=t.RESP_PARTIAL=t.ATTR_ID=t.ATTR_VALUE=t.ATTR_NAME=t.ATTR_URL=t.ERR_NO_PARTIAL_RESPONSE=t.PHASE_PROCESS_RESPONSE=t.SEL_RESPONSE_XML=t.SEL_CLIENT_WINDOW_ELEM=t.SEL_VIEWSTATE_ELEM=t.TAG_ATTR=t.TAG_AFTER=t.TAG_BEFORE=t.TAG_BODY=t.TAG_FORM=t.TAG_HEAD=t.STD_ACCEPT=t.NO_TIMEOUT=t.MULTIPART=t.URL_ENCODED=t.STATE_EVT_COMPLETE=t.STATE_EVT_TIMEOUT=t.STATE_EVT_BEGIN=t.REQ_TYPE_POST=t.REQ_TYPE_GET=t.ENCODED_URL=t.VAL_AJAX=t.REQ_ACCEPT=t.HEAD_FACES_REQ=t.CONTENT_TYPE=t.STAGE_DEVELOPMENT=t.CTX_PARAM_EXECUTE=void 0,t.UNKNOWN=t.MAX_RECONNECT_ATTEMPTS=void 0,t.P_PARTIAL_SOURCE="javax.faces.source",t.PARTIAL_ID="partialId",t.P_VIEWSTATE="javax.faces.ViewState",t.P_VIEWROOT="javax.faces.ViewRoot",t.P_VIEWHEAD="javax.faces.ViewHead",t.P_VIEWBODY="javax.faces.ViewBody",t.EMPTY_FUNC=Object.freeze((function(){})),t.EMPTY_STR="",t.EMPTY_MAP=Object.freeze({}),t.HTML_VIEWSTATE=["<input type='hidden'","id='",t.P_VIEWSTATE,"' name='",t.P_VIEWSTATE,"' value='' />"].join(t.EMPTY_STR),t.IDENT_ALL="@all",t.IDENT_NONE="@none",t.IDENT_THIS="@this",t.IDENT_FORM="@form",t.P_AJAX="javax.faces.partial.ajax",t.P_EXECUTE="javax.faces.partial.execute",t.P_RENDER="javax.faces.partial.render",t.P_EVT="javax.faces.partial.event",t.P_CLIENT_WINDOW="javax.faces.ClientWindow",t.P_RESET_VALUES="javax.faces.partial.resetValues",t.P_WINDOW_ID="javax.faces.windowId",t.RENDER="render",t.WINDOW_ID="windowId",t.ERROR="error",t.EVENT="event",t.ON_ERROR="onerror",t.ON_EVENT="onevent",t.BEGIN="begin",t.COMPLETE="complete",t.SUCCESS="success",t.SOURCE="source",t.STATUS="status",t.ERROR_NAME="error-name",t.ERROR_MESSAGE="error-message",t.RESPONSE_TEXT="responseText",t.RESPONSE_XML="responseXML",t.HTTPERROR="httpError",t.EMPTY_RESPONSE="emptyResponse",t.MALFORMEDXML="malformedXML",t.SERVER_ERROR="serverError",t.CLIENT_ERROR="clientError",t.TIMEOUT_EVENT="timeout",t.CTX_PARAM_MF_INTERNAL="_mfInternal",t.CTX_PARAM_SRC_FRM_ID="_mfSourceFormId",t.CTX_PARAM_SRC_CTL_ID="_mfSourceControlId",t.CTX_PARAM_TR_TYPE="_mfTransportType",t.CTX_PARAM_PASS_THR="passThrgh",t.CTX_PARAM_DELAY="delay",t.CTX_PARAM_TIMEOUT="timeout",t.CTX_PARAM_RST="resetValues",t.CTX_PARAM_EXECUTE="execute",t.STAGE_DEVELOPMENT="Development",t.CONTENT_TYPE="Content-Type",t.HEAD_FACES_REQ="Faces-Request",t.REQ_ACCEPT="Accept",t.VAL_AJAX="partial/ajax",t.ENCODED_URL="javax.faces.encodedURL",t.REQ_TYPE_GET="GET",t.REQ_TYPE_POST="POST",t.STATE_EVT_BEGIN="begin",t.STATE_EVT_TIMEOUT="TIMEOUT_EVENT",t.STATE_EVT_COMPLETE="complete",t.URL_ENCODED="application/x-www-form-urlencoded",t.MULTIPART="multipart/form-data",t.NO_TIMEOUT=0,t.STD_ACCEPT="text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8",t.TAG_HEAD="head",t.TAG_FORM="form",t.TAG_BODY="body",t.TAG_BEFORE="before",t.TAG_AFTER="after",t.TAG_ATTR="attribute",t.SEL_VIEWSTATE_ELEM="[name='"+t.P_VIEWSTATE+"']",t.SEL_CLIENT_WINDOW_ELEM="[name='"+t.P_CLIENT_WINDOW+"']",t.SEL_RESPONSE_XML="responseXML",t.PHASE_PROCESS_RESPONSE="processResponse",t.ERR_NO_PARTIAL_RESPONSE="Partial response not set",t.ATTR_URL="url",t.ATTR_NAME="name",t.ATTR_VALUE="value",t.ATTR_ID="id",t.RESP_PARTIAL="partial-response",t.CMD_CHANGES="changes",t.CMD_UPDATE="update",t.CMD_DELETE="delete",t.CMD_INSERT="insert",t.CMD_EVAL="eval",t.CMD_ERROR="error",t.CMD_ATTRIBUTES="attributes",t.CMD_EXTENSION="extension",t.CMD_REDIRECT="redirect",t.UPDATE_FORMS="_updateForms",t.UPDATE_ELEMS="_updateElems",t.MYFACES="myfaces",t.SEL_SCRIPTS_STYLES="script, style, link",t.MF_NONE="__mf_none__",t.REASON_EXPIRED="Expired",t.APPLIED_VST="appliedViewState",t.APPLIED_CLIENT_WINDOW="appliedClientWindow",t.RECONNECT_INTERVAL=500,t.MAX_RECONNECT_ATTEMPTS=25,t.UNKNOWN="UNKNOWN"},861:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StateHolder=void 0;var r=n(526),o=function(){function e(e,t){this.id=e,this.value=t;var n=e.indexOf(r.P_VIEWSTATE);this.nameSpace=n>0?e.substr(0,n-1):r.EMPTY_STR}return Object.defineProperty(e.prototype,"hasNameSpace",{get:function(){var e;return!!(null!==(e=null==this?void 0:this.nameSpace)&&void 0!==e?e:r.EMPTY_STR).length},enumerable:!1,configurable:!0}),e}();t.StateHolder=o},594:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;t.Messages=function(){this.MSG_TEST="Testmessage",this.MSG_DEV_MODE="Note, this message is only sent, because project stage is development and no other error listeners are registered.",this.MSG_AFFECTED_CLASS="Affected Class=",this.MSG_AFFECTED_METHOD="Affected Method=",this.MSG_ERROR_NAME="Error Name=",this.MSG_ERROR_MESSAGE="Error Message=",this.MSG_SERVER_ERROR_NAME="Server Error Name=",this.MSG_ERROR_DESC="Error Description=",this.MSG_ERROR_NO="Error Number=",this.MSG_ERROR_LINENO="Error Line Number=",this.ERR_FORM="Sourceform could not be determined, either because element is not attached to a form or we have multiple forms with named elements of the same identifier or name, stopping the ajax processing",this.ERR_VIEWSTATE="jsf.viewState= param value not of type form!",this.ERR_TRANSPORT="Transport type {0} does not exist",this.ERR_EVT_PASS="an event must be passed down (either a an event object null or undefined) ",this.ERR_CONSTRUCT="Parts of the response couldn't be retrieved when constructing the event data= {0} ",this.ERR_MALFORMEDXML="The server response could not be parsed, the server has returned with a response which is not xml !",this.ERR_SOURCE_FUNC="source cannot be a function (probably source and event were not defined or set to null",this.ERR_EV_OR_UNKNOWN="An event object or unknown must be passed as second parameter",this.ERR_SOURCE_NOSTR="source cannot be a string",this.ERR_SOURCE_DEF_NULL="source must be defined or null",this.ERR_MUST_STRING="{0}: {1} namespace must be of type String",this.ERR_REF_OR_ID="{0}: {1} a reference node or identifier must be provided",this.ERR_PARAM_GENERIC="{0}: parameter {1} must be of type {2}",this.ERR_PARAM_STR="{0}: {1} param must be of type string",this.ERR_PARAM_STR_RE="{0}: {1} param must be of type string or a regular expression",this.ERR_PARAM_MIXMAPS="{0}: both a source as well as a destination map must be provided",this.ERR_MUST_BE_PROVIDED="{0}: an {1} and a {2} must be provided",this.ERR_MUST_BE_PROVIDED1="{0}: {1} must be set",this.ERR_REPLACE_EL="replaceElements called while evalNodes is not an array",this.ERR_EMPTY_RESPONSE="{0}: The response cannot be null or empty!",this.ERR_ITEM_ID_NOTFOUND="{0}: item with identifier {1} could not be found",this.ERR_PPR_IDREQ="{0}: Error in PPR Insert, id must be present",this.ERR_PPR_INSERTBEFID="{0}: Error in PPR Insert, before id or after id must be present",this.ERR_PPR_INSERTBEFID_1="{0}: Error in PPR Insert, before  node of id {1} does not exist in document",this.ERR_PPR_INSERTBEFID_2="{0}: Error in PPR Insert, after  node of id {1} does not exist in document",this.ERR_PPR_DELID="{0}: Error in delete, id not in xml markup",this.ERR_PPR_UNKNOWNCID="{0}:  Unknown Html-Component-ID= {1}",this.ERR_NO_VIEWROOTATTR="{0}: Changing of ViewRoot attributes is not supported",this.ERR_NO_HEADATTR="{0}: Changing of Head attributes is not supported",this.ERR_RED_URL="{0}: Redirect without url",this.ERR_REQ_FAILED_UNKNOWN="Request failed with unknown status",this.ERR_REQU_FAILED="Request failed with status {0} and reason {1}",this.UNKNOWN="UNKNOWN"}},402:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Assertions=void 0;var r=n(421),o=n(561),i=o.ExtLang.getMessage,a=o.ExtLang.makeException,u=n(526);!function(e){function t(t,n,r,o){if(void 0===n&&(n=u.EMPTY_STR),void 0===r&&(r=u.EMPTY_STR),void 0===o&&(o="Assertion Error"),!t)throw e.raiseError(new Error,n,r,o)}function n(t,n,o,i,a){if(void 0===o&&(o=u.EMPTY_STR),void 0===i&&(i=u.EMPTY_STR),void 0===a&&(a="Type Assertion Error"),t&&!r.Lang.assertType(t,n))throw e.raiseError(new Error,o,i,a)}function o(e,t,r,o){void 0===t&&(t=u.EMPTY_STR),void 0===r&&(r=u.EMPTY_STR),void 0===o&&(o="Assertion Error"),n(e,"function",t,r,o)}e.assertRequestIntegrity=function(e,n){o(e.getIf(u.ON_ERROR).value),o(e.getIf(u.ON_EVENT).value),t(n.isPresent(),i("ERR_MUST_BE_PROVIDED1","{0}: source  must be provided or exist","source element id"),"jsf.ajax.request","ArgNotSet")},e.assertUrlExists=function(t){if(t.attr(u.ATTR_URL).isAbsent())throw e.raiseError(new Error,i("ERR_RED_URL",null,"_Ajaxthis.processRedirect"),"processRedirect")},e.assertValidXMLResponse=function(e){t(!e.isAbsent(),u.EMPTY_RESPONSE,u.PHASE_PROCESS_RESPONSE),t(!e.isXMLParserError(),e.parserErrorText(u.EMPTY_STR),u.PHASE_PROCESS_RESPONSE),t(e.querySelectorAll(u.RESP_PARTIAL).isPresent(),u.ERR_NO_PARTIAL_RESPONSE,u.PHASE_PROCESS_RESPONSE)},e.raiseError=function(e,t,n,r,o){var i=null!=r?r:u.MALFORMEDXML,s=null!=o?o:u.MALFORMEDXML,l=null!=t?t:u.EMPTY_STR;return a(e,i,s,"Response",n||(arguments.caller?arguments.caller.toString():"_raiseError"),l)},e.assert=t,e.assertType=n,e.assertFunction=o}(t.Assertions||(t.Assertions={}))},453:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AsynchronousQueue=void 0;var n=function(){function e(){this.runnableQueue=[]}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.runnableQueue.length},enumerable:!1,configurable:!0}),e.prototype.enqueue=function(e,t){var n=this;void 0===t&&(t=0),this.delayTimeout&&(clearTimeout(this.delayTimeout),this.delayTimeout=null),t?this.delayTimeout=setTimeout((function(){n.appendElement(e)})):this.appendElement(e)},e.prototype.dequeue=function(){return this.runnableQueue.shift()},e.prototype.cleanup=function(){this.currentlyRunning=null,this.runnableQueue.length=0},e.prototype.cancel=function(){try{this.currentlyRunning&&this.currentlyRunning.cancel()}finally{this.cleanup()}},e.prototype.callForNextElementToProcess=function(){this.runEntry()},e.prototype.appendElement=function(e){this.runnableQueue.push(e),this.currentlyRunning||this.runEntry()},e.prototype.runEntry=function(){var e=this;this.isEmpty?this.currentlyRunning=null:(this.currentlyRunning=this.dequeue(),this.currentlyRunning.catch((function(t){throw e.cleanup(),t})).then((function(){return e.callForNextElementToProcess()})).start())},e}();t.AsynchronousQueue=n},24:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ExtDQ=t.ExtDomquery=void 0;var i=n(421),a=n(526),u=function(e){return e&&!(-1==(null==e?void 0:e.search(/\/javax\.faces\.resource.*\/jsf\.js.*/))&&-1==(null==e?void 0:e.search(/\/jsf-development\.js.*/))&&-1==(null==e?void 0:e.search(/\/jsf-uncompressed\.js.*/))&&-1==(null==e?void 0:e.search(/\/jsf[^.]*\.js.*ln=javax.faces.*/gi)))},s="src",l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t,"windowId",{get:function(){return new t(document.body).windowId},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nonce",{get:function(){return new t(document.body).nonce},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"windowId",{get:function(){var e=function(){var e=window.location.href,t=new RegExp("[\\?&]windowId=([^&#\\;]*)").exec(e);return null!=t?t[1]:null};if(this.value.isPresent()){var t=this.querySelectorAll("form input[name='"+a.P_WINDOW_ID+"']");if(t.length>0)throw Error("Multiple different windowIds found in document");return t.isPresent()?t.getAsElem(0).value.value:e()}return e()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nonce",{get:function(){var e=new i.Config(window.myfaces).getIf("config","cspMeta","nonce");if(e.value)return e.value;var t=new i.DQ(document.currentScript);if(null!=t.attr("nonce").value)return t.attr("nonce").value;var n=i.DQ.querySelectorAll("script[src], link[src]").lazyStream.filter((function(e){return null!=e.attr("nonce").value&&null!=e.attr(s)})).map((function(e){return u(e.attr(s).value)})).first();return n.isPresent()&&(e.value=i.DomQuery.byId(n.value,!0).attr("nonce").value),e.value},enumerable:!1,configurable:!0}),t.searchJsfJsFor=function(e){return new t(document).searchJsfJsFor(e)},t.prototype.searchJsfJsFor=function(e){return i.DQ.querySelectorAll("script[src], link[src]").lazyStream.filter((function(e){return u(e.attr(s).value)})).map((function(t){return t.attr(s).value.match(e)})).filter((function(e){return null!=e&&e.length>1})).map((function(e){return decodeURIComponent(e[1])})).first()},t.prototype.globalEval=function(n,r){return new t(e.prototype.globalEval.call(this,n,null!=r?r:this.nonce))},t.prototype.runScripts=function(t){return e.prototype.runScripts.call(this,(function(e){var n;return(null===(n=null==t?void 0:t(e))||void 0===n||n)&&!u(e)&&!(-1!=e.search(/\/jsf[^.]*\.js.*ln=myfaces.testscripts.*/gi))}))},t.byId=function(e,n){return void 0===n&&(n=!1),new t(i.DomQuery.byId(e,n))},t}(i.DQ);t.ExtDomquery=l,t.ExtDQ=i.DQ},561:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtLang=void 0;var r=n(421),o=n(594),i=n(526),a=n(684);!function(e){var t,n="impl/util/Lang/";function u(e,n){for(var a,u,s=[],l=2;l<arguments.length;l++)s[l-2]=arguments[l];var c=null!==(u=null!==(a=(t=null!=t?t:new o.Messages)[e])&&void 0!==a?a:n)&&void 0!==u?u:e;return r.Stream.of.apply(r.Stream,s).each((function(e,t){c=c.replace(new RegExp(["\\{",t,"\\}"].join(i.EMPTY_STR),"g"),e)})),c}function s(e,t,r,o,a,u){var s;return new Error(null!==(s=u+(null!=o?o:n)+a)&&void 0!==s?s:i.EMPTY_STR+arguments.caller.toString())}e.getLanguage=function(){var e,t,n=null!==(t=null===(e=navigator.languages)||void 0===e?void 0:e[0])&&void 0!==t?t:null===navigator||void 0===navigator?void 0:navigator.language;return n.split("-")[0]},e.failSaveResolve=function(e,t){return void 0===t&&(t=null),r.Lang.saveResolve(e,t)},e.failSaveExecute=function(e,t){void 0===t&&(t=null),r.Lang.saveResolve(e,t)},e.getMessage=u,e.keyValToStr=function(e,t,n){return void 0===n&&(n="\n"),[e,t].join(n)},e.makeException=s,e.getGlobalConfig=function(e,t){var n,r,o;return null!==(o=null===(r=null===(n=null===window||void 0===window?void 0:window.myfaces)||void 0===n?void 0:n.config)||void 0===r?void 0:r[e])&&void 0!==o?o:t},e.getForm=function(e,t){var n=new r.DQ(e),o=new r.DQ((0,a.getEventTarget)(t));if(n.isTag(i.TAG_FORM))return n;if(n.attr(i.TAG_FORM).isPresent()){var l=n.attr(i.TAG_FORM).value,c=r.DQ.byId(l,!0);if(c.isPresent())return c}var p=n.parents(i.TAG_FORM).orElseLazy((function(){return n.byTagName(i.TAG_FORM,!0)})).orElseLazy((function(){return o.parents(i.TAG_FORM)})).orElseLazy((function(){return o.byTagName(i.TAG_FORM)})).first();return function(e){if(e.isAbsent())throw s(new Error,null,null,"Impl","getForm",u("ERR_FORM"))}(p),p},e.getLocalOrGlobalConfig=function(e,t,n){var r,o,i,a,u,s,l;return null!==(l=null!==(a=null===(i=null===(o=null===(r=e.value)||void 0===r?void 0:r.myfaces)||void 0===o?void 0:o.config)||void 0===i?void 0:i[t])&&void 0!==a?a:null===(s=null===(u=null===window||void 0===window?void 0:window.myfaces)||void 0===u?void 0:u.config)||void 0===s?void 0:s[t])&&void 0!==l?l:n}}(t.ExtLang||(t.ExtLang={}))},935:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorData=t.ErrorType=void 0;var i,a=n(526),u=n(679),s=n(561).ExtLang.getMessage;!function(e){e.SERVER_ERROR="serverError",e.HTTP_ERROR="httpError",e.CLIENT_ERROR="clientErrror",e.TIMEOUT="timeout"}(i=t.ErrorType||(t.ErrorType={}));var l=function(e){function t(t,n,r,o,a,u,s,l){void 0===o&&(o=null),void 0===a&&(a=null),void 0===u&&(u="200"),void 0===s&&(s="UNKNOWN"),void 0===l&&(l=i.CLIENT_ERROR);var c=e.call(this)||this;return c.type="error",c.source=t,c.type="error",c.errorName=n,c.message=c.errorMessage=r,c.responseCode=u,c.responseText=o,c.status=s,c.typeDetails=l,l==i.SERVER_ERROR&&(c.serverErrorName=c.errorName,c.serverErrorMessage=c.errorMessage),c}return o(t,e),t.fromClient=function(e){var n,r,o;return new t("client",null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"",null!==(r=null==e?void 0:e.message)&&void 0!==r?r:"",null!==(o=null==e?void 0:e.stack)&&void 0!==o?o:"")},t.fromHttpConnection=function(e,n,r,o,a,u){return void 0===u&&(u="UNKNOWN"),new t(e,n,r,o,a,"".concat(a),u,i.HTTP_ERROR)},t.fromGeneric=function(e,n,r){void 0===r&&(r=i.SERVER_ERROR);var o=this.getMsg,u=o(e,a.SOURCE),s=o(e,a.ERROR_NAME),l=o(e,a.ERROR_MESSAGE),c=o(e,a.STATUS);return new t(u,s,l,o(e,a.RESPONSE_TEXT),o(e,a.RESPONSE_XML),n+a.EMPTY_STR,c,r)},t.getMsg=function(e,t){return s(e.getIf(t).orElse(a.UNKNOWN).value)},t.fromServerError=function(e){return this.fromGeneric(e,-1)},t}(u.EventData);t.ErrorData=l},679:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EventData=void 0;var r=n(421),o=n(526),i=function(){function e(){}return e.createFromRequest=function(t,n,i){var a,u=new e;u.type=o.EVENT,u.status=i;var s=n.getIf(o.SOURCE).orElseLazy((function(){return n.getIf(o.P_PARTIAL_SOURCE).value})).orElseLazy((function(){return n.getIf(o.CTX_PARAM_PASS_THR,o.P_PARTIAL_SOURCE).value})).value;return s&&(u.source=r.DQ.byId(s,!0).first().value.value),i!==o.BEGIN&&(u.responseCode=null===(a=null==t?void 0:t.status)||void 0===a?void 0:a.toString(),u.responseText=null==t?void 0:t.responseText,u.responseXML=null==t?void 0:t.responseXML),u},e}();t.EventData=i},684:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveDefaults=t.getEventTarget=t.resolveWindowId=t.resolveDelay=t.resolveTimeout=t.resolveForm=t.resolveFinalUrl=t.resolveTargetUrl=t.resolveHandlerFunc=void 0;var r=n(421),o=n(526),i=n(561),a=n(24);function u(e){return void 0===e.elements[o.ENCODED_URL]?e.action:e.elements[o.ENCODED_URL].value}function s(e){var t,n;return null!==(n=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.windowId)&&void 0!==n?n:a.ExtDomquery.windowId}t.resolveHandlerFunc=function(e,t,n){return t.getIf(n).orElseLazy((function(){return e.getIf(n).value})).orElse(o.EMPTY_FUNC).value},t.resolveTargetUrl=u,t.resolveFinalUrl=function(e,t,n){return void 0===n&&(n=o.REQ_TYPE_POST),u(e.getAsElem(0).value)+(n==o.REQ_TYPE_GET?"?"+t.toString():o.EMPTY_STR)},t.resolveForm=function(e,t,n){var a,u,s,l=null!==(s=null===(u=null===(a=e.value)||void 0===a?void 0:a.myfaces)||void 0===u?void 0:u.form)&&void 0!==s?s:o.MF_NONE;return r.DQ.byId(l,!0).orElseLazy((function(){return i.ExtLang.getForm(t.getAsElem(0).value,n)}))},t.resolveTimeout=function(e){var t,n=i.ExtLang.getLocalOrGlobalConfig;return null!==(t=e.getIf(o.CTX_PARAM_TIMEOUT).value)&&void 0!==t?t:n(e.value,o.CTX_PARAM_TIMEOUT,0)},t.resolveDelay=function(e){var t,n=i.ExtLang.getLocalOrGlobalConfig;return null!==(t=e.getIf(o.CTX_PARAM_DELAY).value)&&void 0!==t?t:n(e.value,o.CTX_PARAM_DELAY,0)},t.resolveWindowId=s,t.getEventTarget=function(e){for(var t,n,r=e,o=null!==(n=null!==(t=null==r?void 0:r.srcElement)&&void 0!==t?t:null==r?void 0:r.target)&&void 0!==n?n:null==r?void 0:r.source;o&&1!=o.nodeType;)o=o.parentNode;return o},t.resolveDefaults=function(e,t,n){var o;void 0===t&&(t={}),void 0===n&&(n=null);var i=e,a=new r.Config(t).deepCopy,u=r.DQ.byId(n||i.target,!0);return{resolvedEvent:i,options:a,elem:u,elementId:u.id.value,requestCtx:new r.Config({}),internalCtx:new r.Config({}),windowId:s(a),isResetValues:!0===(null===(o=a.value)||void 0===o?void 0:o.resetValues)}}},978:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSourceForm=t.resolveSourceElement=t.resolveContexts=t.resolveResponseXML=void 0;var r=n(421),o=n(402),i=n(421),a=n(526);t.resolveResponseXML=function(e){var t=new r.XMLQuery(e.getIf(a.SEL_RESPONSE_XML).value);return o.Assertions.assertValidXMLResponse(t),t},t.resolveContexts=function(e){var t=r.Config.fromNullable(e),n=t.getIf(a.CTX_PARAM_MF_INTERNAL);return n.isPresent()||(n=r.Config.fromNullable({})),n.assign(a.UPDATE_FORMS).value=[],n.assign(a.UPDATE_ELEMS).value=[],{externalContext:t,internalContext:n}},t.resolveSourceElement=function(e,t){var n=function(e,t){return t.getIf(a.CTX_PARAM_SRC_CTL_ID).orElseLazy((function(){return e.getIf(a.SOURCE,"id").value}))}(e,t);return i.DQ.byId(n.value,!0)},t.resolveSourceForm=function(e,t){var n=e.getIf(a.CTX_PARAM_SRC_FRM_ID),r=new i.DQ(n.isPresent()?document.forms[n.value]:null);return r.orElseLazy((function(){return t.parents(a.TAG_FORM)})).orElseLazy((function(){return t.querySelectorAll(a.TAG_FORM)})).orElseLazy((function(){return i.DQ.querySelectorAll(a.TAG_FORM)}))}},549:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;var r=n(421),o=n(918),i=n(526),a=n(978);(t.Response||(t.Response={})).processResponse=function(e,t){var n=r.Config.fromNullable(e),u=(0,a.resolveContexts)(t),s=u.externalContext,l=u.internalContext,c=(0,a.resolveResponseXML)(n),p=new o.ResponseProcessor(n,s,l);l.assign(i.RESPONSE_XML).value=c,c.querySelectorAll(i.RESP_PARTIAL).each((function(e){return function(e,t,n){n.assign(i.PARTIAL_ID).value=e.id;var o=[i.CMD_ERROR,i.CMD_REDIRECT,i.CMD_CHANGES].join(",");e.getIf(o).each((function(e){switch(e.tagName.value){case i.CMD_ERROR:t.error(e);break;case i.CMD_REDIRECT:t.redirect(e);break;case i.CMD_CHANGES:!function(e,t){var n=[i.CMD_UPDATE,i.CMD_EVAL,i.CMD_INSERT,i.CMD_DELETE,i.CMD_ATTRIBUTES,i.CMD_EXTENSION].join(",");e.getIf(n).each((function(e){switch(e.tagName.value){case i.CMD_UPDATE:!function(e,t){(function(e,t){return e.processViewState(t)||e.processClientWindow(t)})(t,e)||function(e,t){var n=e.cDATAAsString;switch(e.id.value){case i.P_VIEWROOT:t.replaceViewRoot(r.DQ.fromMarkup(n.substring(n.indexOf("<html"))));break;case i.P_VIEWHEAD:t.replaceHead(r.DQ.fromMarkup(n));break;case i.P_VIEWBODY:t.replaceBody(r.DQ.fromMarkup(n));break;default:t.update(e,n)}}(e,t)}(e,t);break;case i.CMD_EVAL:t.eval(e);break;case i.CMD_INSERT:!function(e,t){t.querySelectorAll([i.TAG_BEFORE,i.TAG_AFTER].join(",")).length?e.insertWithSubtags(t):e.insert(t)}(t,e);break;case i.CMD_DELETE:t.delete(e);break;case i.CMD_ATTRIBUTES:t.attributes(e);case i.CMD_EXTENSION:}}))}(e,t)}}))}(e,p,l)})),p.fixViewStates(),p.fixClientWindow(),p.globalEval(),p.done()}},918:function(e,t,n){var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseProcessor=void 0;var o=n(421),i=n(434),a=n(402),u=n(935),s=n(861),l=n(679),c=n(526),p=o.Lang.trim,f=n(24),h=function(){function e(e,t,n){this.request=e,this.externalContext=t,this.internalContext=n}return e.prototype.replaceHead=function(e){var t=e.querySelectorAll(c.TAG_HEAD);t.isPresent()&&(o.DQ.querySelectorAll(c.TAG_HEAD).querySelectorAll(c.SEL_SCRIPTS_STYLES).delete(),this.storeForEval(t))},e.prototype.replaceBody=function(e){var t=e.querySelectorAll(c.TAG_BODY);if(t.isPresent()){var n=t.html().value,r=o.DQ.querySelectorAll(c.TAG_BODY).html(n),i=r.querySelectorAll(c.TAG_FORM);r.copyAttrs(t),this.storeForPostProcessing(i,r)}},e.prototype.eval=function(e){o.DQ.globalEval(e.cDATAAsString)},e.prototype.error=function(e){var t=new o.Config({});t.assign(c.SOURCE).value=this.externalContext.getIf(c.P_PARTIAL_SOURCE).get(0).value,t.assign(c.ERROR_NAME).value=e.querySelectorAll(c.ERROR_NAME).textContent(c.EMPTY_STR),t.assign(c.ERROR_MESSAGE).value=e.querySelectorAll(c.ERROR_MESSAGE).cDATAAsString;var n=this.internalContext.get(c.RESPONSE_XML).isPresent();t.assignIf(n,c.RESPONSE_XML).value=this.internalContext.getIf(c.RESPONSE_XML).value.get(0).value;var r=u.ErrorData.fromServerError(t);this.triggerOnError(r),i.Implementation.sendError(r)},e.prototype.redirect=function(e){a.Assertions.assertUrlExists(e);var t=p(e.attr(c.ATTR_URL).value);t!=c.EMPTY_STR&&(window.location.href=t)},e.prototype.update=function(e,t){var n=f.ExtDomquery.byId(e.id.value,!0).outerHTML(t,!1,!1),r=null==n?void 0:n.parents(c.TAG_FORM).orElseLazy((function(){return n.byTagName(c.TAG_FORM,!0)}));r&&this.storeForPostProcessing(r,n)},e.prototype.delete=function(e){o.DQ.byId(e.id.value,!0).delete()},e.prototype.attributes=function(e){var t=o.DQ.byId(e.id.value,!0);e.byTagName(c.TAG_ATTR).each((function(e){t.attr(e.attr(c.ATTR_NAME).value).value=e.attr(c.ATTR_VALUE).value}))},e.prototype.replaceViewRoot=function(e){this.replaceHead(e),this.replaceBody(e)},e.prototype.insert=function(e){var t=e.attr(c.TAG_BEFORE),n=e.attr(c.TAG_AFTER),r=o.DQ.fromMarkup(e.cDATAAsString);t.isPresent()&&(o.DQ.byId(t.value,!0).insertBefore(r),this.internalContext.assign(c.UPDATE_ELEMS).value.push(r)),n.isPresent()&&(o.DQ.byId(n.value,!0).insertAfter(r),this.internalContext.assign(c.UPDATE_ELEMS).value.push(r))},e.prototype.insertWithSubtags=function(e){var t=this,n=e.querySelectorAll(c.TAG_BEFORE),r=e.querySelectorAll(c.TAG_AFTER);n.each((function(e){var n=e.attr(c.ATTR_ID),r=o.DQ.fromMarkup(e.cDATAAsString);n.isPresent()&&(o.DQ.byId(n.value,!0).insertBefore(r),t.internalContext.assign(c.UPDATE_ELEMS).value.push(r))})),r.each((function(e){var n=e.attr(c.ATTR_ID),r=o.DQ.fromMarkup(e.cDATAAsString);n.isPresent()&&(o.DQ.byId(n.value,!0).insertAfter(r),t.internalContext.assign(c.UPDATE_ELEMS).value.push(r))}))},e.prototype.processViewState=function(t){if(e.isViewStateNode(t)){var n=t.cDATAAsString;return this.internalContext.assign(c.APPLIED_VST,t.id.value).value=new s.StateHolder(t.id.value,n),!0}return!1},e.prototype.processClientWindow=function(t){if(e.isClientWindowNode(t)){var n=t.cDATAAsString;return this.internalContext.assign(c.APPLIED_CLIENT_WINDOW,t.id.value).value=new s.StateHolder(t.id.value,n),!0}},e.prototype.globalEval=function(){var e=new(f.ExtDomquery.bind.apply(f.ExtDomquery,r([void 0],this.internalContext.getIf(c.UPDATE_ELEMS).value,!1)));e.runCss(),e.runScripts()},e.prototype.fixViewStates=function(){var e=this;o.Stream.ofAssoc(this.internalContext.getIf(c.APPLIED_VST).orElse({}).value).each((function(t){var n=t[1],r=o.DQ.byId(n.nameSpace,!0).orElse(document.body),i=r.byTagName(c.TAG_FORM),a=r.filter((function(e){return e.tagName.orElse(c.EMPTY_STR).value.toLowerCase()==c.TAG_FORM}));e.appendViewStateToForms(new o.DomQuery(i,a),n.value)}))},e.prototype.fixClientWindow=function(){var e=this;o.Stream.ofAssoc(this.internalContext.getIf(c.APPLIED_CLIENT_WINDOW).orElse({}).value).each((function(t){var n=t[1],r=o.DQ.byId(n.nameSpace,!0).orElse(document.body),i=r.byTagName(c.TAG_FORM),a=r.filter((function(e){return e.tagName.orElse(c.EMPTY_STR).value.toLowerCase()==c.TAG_FORM}));e.appendClientWindowToForms(new o.DomQuery(i,a),n.value)}))},e.prototype.done=function(){var e=this,t=l.EventData.createFromRequest(this.request.value,this.externalContext,c.SUCCESS),n=this.externalContext.getIf(c.ON_EVENT).orElseLazy((function(){return e.internalContext.getIf(c.ON_EVENT).value})).orElse(c.EMPTY_FUNC).value;i.Implementation.sendEvent(t,n)},e.prototype.appendViewStateToForms=function(e,t){this.assignState(e,c.SEL_VIEWSTATE_ELEM,t)},e.prototype.appendClientWindowToForms=function(e,t){this.assignState(e,c.SEL_CLIENT_WINDOW_ELEM,t)},e.prototype.assignState=function(t,n,r){t.each((function(t){t.querySelectorAll(n).orElseLazy((function(){return e.newViewStateElement(t)})).attr("value").value=r}))},e.newViewStateElement=function(e){var t=o.DQ.fromMarkup(c.HTML_VIEWSTATE);return t.appendTo(e),t},e.prototype.storeForPostProcessing=function(e,t){this.storeForUpdate(e),this.storeForEval(t)},e.prototype.storeForUpdate=function(e){this.internalContext.assign(c.UPDATE_FORMS).value.push(e)},e.prototype.storeForEval=function(e){this.internalContext.assign(c.UPDATE_ELEMS).value.push(e)},e.isViewStateNode=function(e){var t,n,r,o,i,a,u=window.jsf.separatorchar;return void 0!==(null===(t=null==e?void 0:e.id)||void 0===t?void 0:t.value)&&((null===(n=null==e?void 0:e.id)||void 0===n?void 0:n.value)==c.P_VIEWSTATE||-1!=(null===(o=null===(r=null==e?void 0:e.id)||void 0===r?void 0:r.value)||void 0===o?void 0:o.indexOf([u,c.P_VIEWSTATE].join(c.EMPTY_STR)))||-1!=(null===(a=null===(i=null==e?void 0:e.id)||void 0===i?void 0:i.value)||void 0===a?void 0:a.indexOf([c.P_VIEWSTATE,u].join(c.EMPTY_STR))))},e.isClientWindowNode=function(e){var t,n,r,o,i,a,u=window.jsf.separatorchar;return void 0!==(null===(t=null==e?void 0:e.id)||void 0===t?void 0:t.value)&&((null===(n=null==e?void 0:e.id)||void 0===n?void 0:n.value)==c.P_CLIENT_WINDOW||-1!=(null===(o=null===(r=null==e?void 0:e.id)||void 0===r?void 0:r.value)||void 0===o?void 0:o.indexOf([u,c.P_CLIENT_WINDOW].join(c.EMPTY_STR)))||-1!=(null===(a=null===(i=null==e?void 0:e.id)||void 0===i?void 0:i.value)||void 0===a?void 0:a.indexOf([c.P_CLIENT_WINDOW,u].join(c.EMPTY_STR))))},e.prototype.triggerOnError=function(e){this.externalContext.getIf(c.ON_ERROR).orElse(this.internalContext.getIf(c.ON_ERROR).value).orElse(c.EMPTY_FUNC).value(e)},e}();t.ResponseProcessor=h},768:function(e,t,n){var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.XhrFormData=void 0;var a=n(421),u=n(526),s=a.Lang.isString,l=function(e){function t(t,n,r,o){var i=e.call(this,{})||this;return i.dataSource=t,i.partialIds=o,i.isMultipartRequest=!1,s(t)?i.assignEncodedString(i.dataSource):i.applyFormDataToConfig(),void 0!==n&&i.assignEncodedString(n),r&&i.postInit.apply(i,r),i}return o(t,e),t.prototype.postInit=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(t){if(t==u.IDENT_ALL)return a.DQ.querySelectorAllDeep("input[type='file']");if(t==u.IDENT_FORM)return e.dataSource.querySelectorAllDeep("input[type='file']");var n=a.DQ.byId(t,!0);return e.getFileInputs(n)},o=function(e){return e.isPresent()};this.isMultipartRequest=a.LazyStream.of.apply(a.LazyStream,t).map(r).filter(o).first().isPresent()},t.prototype.applyViewState=function(e){var t=e.byId(u.P_VIEWSTATE,!0).inputValue;this.appendIf(t.isPresent(),u.P_VIEWSTATE).value=t.value},t.prototype.assignEncodedString=function(e){var t=decodeURIComponent(e).split(/&/gi).filter((function(e){return!!(e||"").replace(/\s+/g,"")}));this.assignString(t)},t.prototype.assignString=function(e){var t=new a.Config({});a.Stream.of.apply(a.Stream,e).map((function(e){return function(e){return e.split(/=(.*)/gi)}(e)})).map((function(e){return function(e){var t,n;return e.length<3?[null!==(t=null==e?void 0:e[0])&&void 0!==t?t:[],null!==(n=null==e?void 0:e[1])&&void 0!==n?n:[]]:e}(e)})).each((function(e){var n,r;t.append(e[0]).value=null!==(r=null===(n=null==e?void 0:e.splice(1))||void 0===n?void 0:n.join(""))&&void 0!==r?r:""})),this.shallowMerge(t)},t.prototype.toFormData=function(){var e=new FormData;return this.appendInputs(e),e},t.prototype.resolveSubmitIdentifier=function(e){var t,n=e.name;return""==(null!==(t=null==e?void 0:e.name)&&void 0!==t?t:"").replace(/s+/gi,"")?e.id:n},t.prototype.toString=function(e){var t=this;return void 0===e&&(e=u.EMPTY_STR),this.isAbsent()?e:a.LazyStream.of.apply(a.LazyStream,Object.keys(this.value)).filter((function(e){return t.value.hasOwnProperty(e)})).flatMap((function(e){return a.Stream.of.apply(a.Stream,t.value[e]).map((function(t){return[e,t]})).collect(new a.ArrayCollector)})).map((function(e){return"".concat(encodeURIComponent(e[0]),"=").concat(encodeURIComponent(e[1]))})).collect(new a.ArrayCollector).join("&")},t.prototype.getFileInputs=function(e){var t=e.filter((function(e){return e.matchesSelector("input[type='file']")})),n=e.querySelectorAll("input[type='file']");return t.concat(n)},t.prototype.applyFormDataToConfig=function(){this.encodeSubmittableFields(this,this.dataSource,this.partialIds),this.getIf(u.P_VIEWSTATE).isPresent()||this.applyViewState(this.dataSource)},t.prototype.encodeSubmittableFields=function(e,t,n){var r=null;if(this.partialIds&&this.partialIds.length)this._value={},r=new(a.DQ.bind.apply(a.DQ,i([void 0],this.partialIds,!1)));else{if(t.isAbsent())throw"NO_PAR_ITEM";r=t}this.shallowMerge(r.deepElements.encodeFormElement())},t.prototype.appendInputs=function(e){var t=this;a.Stream.of.apply(a.Stream,Object.keys(this.value)).each((function(n){a.Stream.of.apply(a.Stream,t.value[n]).each((function(t){return e.append(n,t)}))}))},t}(a.Config);t.XhrFormData=l},317:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.XhrRequest=void 0;var r=n(421),o=n(434),i=n(768),a=n(935),u=n(679),s=n(561),l=n(526),c=n(684),p=s.ExtLang.failSaveExecute,f=function(){function e(e,t,n,r,o,i,a,u,s){void 0===o&&(o=[]),void 0===i&&(i=l.NO_TIMEOUT),void 0===a&&(a=l.REQ_TYPE_POST),void 0===u&&(u=l.URL_ENCODED),void 0===s&&(s=new XMLHttpRequest);var c=this;this.source=e,this.sourceForm=t,this.requestContext=n,this.internalContext=r,this.partialIdsArray=o,this.timeout=i,this.ajaxType=a,this.contentType=u,this.xhrObject=s,this.stopProgress=!1,this.catchFuncs=[],this.thenFunc=[],this.registerXhrCallbacks((function(e){c.resolve(e)}),(function(e){c.reject(e)}))}return e.prototype.start=function(){var e=this,t=p,n=this.xhrObject;try{var r=this.sourceForm.getAsElem(0).value,o=jsf.getViewState(r),a=new i.XhrFormData(this.sourceForm,o,e.requestContext.getIf(l.CTX_PARAM_PASS_THR,l.P_EXECUTE).get("none").value.split(/\s+/gi),this.partialIdsArray);this.contentType=a.isMultipartRequest?"undefined":this.contentType;var u=this.requestContext,s=u.getIf(l.CTX_PARAM_PASS_THR);a.shallowMerge(s,!0,!0),this.responseContext=s.deepCopy;var f=this.responseContext;f.assign(l.CTX_PARAM_MF_INTERNAL).value=this.internalContext.value,f.assign(l.ON_EVENT).value=u.getIf(l.ON_EVENT).value,f.assign(l.ON_ERROR).value=u.getIf(l.ON_ERROR).value,n.open(this.ajaxType,(0,c.resolveFinalUrl)(this.sourceForm,a,this.ajaxType),!0),this.timeout&&(n.timeout=this.timeout),"undefined"!=this.contentType&&t((function(){return n.setRequestHeader(l.CONTENT_TYPE,"".concat(e.contentType,"; charset=utf-8"))})),t((function(){return n.setRequestHeader(l.HEAD_FACES_REQ,l.VAL_AJAX)})),t((function(){return n.setRequestHeader(l.REQ_ACCEPT,l.STD_ACCEPT)})),this.sendEvent(l.BEGIN),this.sendRequest(a)}catch(e){this.handleError(e)}return this},e.prototype.cancel=function(){try{this.xhrObject.abort()}catch(e){this.handleError(e)}},e.prototype.resolve=function(e){r.Stream.of.apply(r.Stream,this.thenFunc).reduce((function(e,t){return t(e)}),e)},e.prototype.reject=function(e){r.Stream.of.apply(r.Stream,this.catchFuncs).reduce((function(e,t){return t(e)}),e)},e.prototype.catch=function(e){return this.catchFuncs.push(e),this},e.prototype.finally=function(e){return this.catchFuncs.push(e),this.thenFunc.push(e),this},e.prototype.then=function(e){return this.thenFunc.push(e),this},e.prototype.registerXhrCallbacks=function(e,t){var n=this,r=this.xhrObject;r.onabort=function(){n.onAbort(t)},r.ontimeout=function(){n.onTimeout(t)},r.onload=function(){n.onSuccess(e)},r.onloadend=function(){n.onDone(n.xhrObject,e)},r.onerror=function(e){n.onError(e,t)}},e.prototype.onAbort=function(e){e()},e.prototype.onTimeout=function(e){this.sendEvent(l.STATE_EVT_TIMEOUT),e()},e.prototype.onSuccess=function(e){var t,n;this.sendEvent(l.COMPLETE),(null===(t=null==this?void 0:this.xhrObject)||void 0===t?void 0:t.responseXML)?jsf.ajax.response(this.xhrObject,null!==(n=this.responseContext.value)&&void 0!==n?n:{}):this.handleMalFormedXML(e)},e.prototype.handleMalFormedXML=function(e){var t;this.stopProgress=!0;var n={type:l.ERROR,status:l.MALFORMEDXML,responseCode:200,responseText:null===(t=this.xhrObject)||void 0===t?void 0:t.responseText,source:{id:this.source.id.value}};try{this.handleError(n,!0)}finally{e(n)}},e.prototype.onDone=function(e,t){this.stopProgress||t(e)},e.prototype.onError=function(e,t){this.handleError(e),t()},e.prototype.sendRequest=function(e){var t=this.ajaxType!=l.REQ_TYPE_GET;e.isMultipartRequest?this.xhrObject.send(t?e.toFormData():null):this.xhrObject.send(t?e.toString():null)},e.prototype.sendEvent=function(e){var t=u.EventData.createFromRequest(this.xhrObject,this.requestContext,e);try{var n=(0,c.resolveHandlerFunc)(this.requestContext,this.responseContext,l.ON_EVENT);o.Implementation.sendEvent(t,n)}catch(e){throw this.handleError(e),e}},e.prototype.handleError=function(e,t){void 0===t&&(t=!1);var n=t?a.ErrorData.fromHttpConnection(e.source,e.type,e.status,e.responseText,e.responseCode,e.status):a.ErrorData.fromClient(e),r=(0,c.resolveHandlerFunc)(this.requestContext,this.responseContext,l.ON_ERROR);o.Implementation.sendError(n,r)},e}();t.XhrRequest=f}},t={},n=function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}(486),r=window;for(var o in n)r[o]=n[o];n.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();
//# sourceMappingURL=jsf.js.map