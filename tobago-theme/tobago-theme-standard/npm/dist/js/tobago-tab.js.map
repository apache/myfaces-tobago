{"version":3,"file":"tobago-tab.js","sourceRoot":"../ts/","sources":["tobago-tab.ts"],"names":[],"mappings":"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","sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one or more\n * contributor license agreements.  See the NOTICE file distributed with\n * this work for additional information regarding copyright ownership.\n * The ASF licenses this file to You under the Apache License, Version 2.0\n * (the \"License\"); you may not use this file except in compliance with\n * the License.  You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nclass TabGroup extends HTMLElement {\n\n  private hiddenInput: HTMLInputElement;\n\n  constructor() {\n    super();\n    this.hiddenInput = this.querySelector(\":scope > input[type=hidden]\");\n  }\n\n  connectedCallback(): void {\n  }\n\n  get switchType(): string {\n    return this.getAttribute(\"switch-type\");\n  }\n\n  get tabs(): NodeListOf<Tab> {\n    return this.querySelectorAll(\":scope > .card-header > .card-header-tabs > tobago-tab\") as NodeListOf<Tab>;\n  }\n\n  getSelectedTab(): Tab {\n    return this.querySelector(\n        \":scope > .card-header > .card-header-tabs > tobago-tab[index='\" + this.selected + \"']\") as Tab;\n  }\n\n  get selected(): number {\n    return parseInt(this.hiddenInput.value);\n  }\n\n  set selected(index: number) {\n    this.hiddenInput.value = String(index);\n  }\n}\n\nexport class Tab extends HTMLElement {\n\n  constructor() {\n    super();\n  }\n\n  connectedCallback(): void {\n    const navLink = this.navLink;\n    if (!navLink.classList.contains(\"disabled\")) {\n      navLink.addEventListener(\"click\", this.select.bind(this));\n    }\n  }\n\n  get index(): number {\n    return parseInt(this.getAttribute(\"index\"));\n  }\n\n  get navLink(): HTMLLinkElement {\n    return this.querySelector(\".nav-link\");\n  }\n\n  get tabGroup(): TabGroup {\n    return this.closest(\"tobago-tab-group\") as TabGroup;\n  }\n\n  select(event: MouseEvent): void {\n    const tabGroup = this.tabGroup;\n    const old = tabGroup.getSelectedTab();\n    tabGroup.selected = this.index;\n\n    switch (tabGroup.switchType) {\n      case \"client\":\n        old.navLink.classList.remove(\"active\");\n        this.navLink.classList.add(\"active\");\n        old.content.classList.remove(\"active\");\n        this.content.classList.add(\"active\");\n        break;\n      case \"reloadTab\":\n        // will be done by <tobago-behavior>\n        break;\n      case \"reloadPage\":\n        // will be done by <tobago-behavior>\n        break;\n      case \"none\": // todo\n        console.error(\"Not implemented yet: %s\", tabGroup.switchType);\n        break;\n      default:\n        console.error(\"Unknown switchType='%s'\", tabGroup.switchType);\n        break;\n    }\n  }\n\n  get content(): HTMLElement {\n    return this.closest(\"tobago-tab-group\")\n        .querySelector(\":scope > .card-body.tab-content > .tab-pane[index='\" + this.index + \"']\");\n  }\n}\n\nexport class TabContent extends HTMLElement {\n\n  constructor() {\n    super();\n  }\n\n  connectedCallback(): void {\n  }\n\n  get index(): number {\n    return parseInt(this.getAttribute(\"index\"));\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function (event: Event): void {\n  window.customElements.define(\"tobago-tab\", Tab);\n  window.customElements.define(\"tobago-tab-content\", TabContent);\n  window.customElements.define(\"tobago-tab-group\", TabGroup);\n});\n"]}